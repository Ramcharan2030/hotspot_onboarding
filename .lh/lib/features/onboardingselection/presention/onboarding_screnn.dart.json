{
    "sourceFile": "lib/features/onboardingselection/presention/onboarding_screnn.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 61,
            "patches": [
                {
                    "date": 1762859952647,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1762859977686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/presentation/widgets/record_audio_button.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/presentation/widgets/record_video_button.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n class OnboardingQuestionScreen extends ConsumerWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n"
                },
                {
                    "date": 1762860007203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,10 +1,8 @@\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/presentation/widgets/record_audio_button.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/presentation/widgets/record_video_button.dart';\r\n+\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n class OnboardingQuestionScreen extends ConsumerWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n"
                },
                {
                    "date": 1762860014689,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/presention/widgets/record_audio.dart';\r\n \r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n class OnboardingQuestionScreen extends ConsumerWidget {\r\n"
                },
                {
                    "date": 1762863719460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,89 +1,553 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/presention/widgets/record_audio.dart';\r\n+import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n+import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n \r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerWidget {\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n-  Widget build(BuildContext context, WidgetRef ref) {\r\n-    final state = ref.watch(onboardingProvider);\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n     final notifier = ref.read(onboardingProvider.notifier);\r\n \r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n     return Scaffold(\r\n-      appBar: AppBar(\r\n-        title: const Text('Onboarding Question'),\r\n-        backgroundColor: Colors.white,\r\n-        foregroundColor: Colors.black,\r\n-        elevation: 0,\r\n-      ),\r\n-      backgroundColor: Colors.white,\r\n-      body: Padding(\r\n-        padding: const EdgeInsets.all(20.0),\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n         child: Column(\r\n-          crossAxisAlignment: CrossAxisAlignment.start,\r\n           children: [\r\n-            Text(\r\n-              \"Why do you want to host with us?\",\r\n-              style: GoogleFonts.inter(\r\n-                  fontSize: 18, fontWeight: FontWeight.w600),\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n             ),\r\n-            const SizedBox(height: 16),\r\n-            TextField(\r\n-              maxLength: 600,\r\n-              maxLines: 6,\r\n-              decoration: InputDecoration(\r\n-                hintText: \"Type your answer here...\",\r\n-                border: OutlineInputBorder(\r\n-                  borderRadius: BorderRadius.circular(12),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n+                  ],\r\n                 ),\r\n               ),\r\n-              onChanged: (val) => notifier.setAnswer(val),\r\n             ),\r\n-            const Spacer(),\r\n-            Row(\r\n-              mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          )\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null) ? null : () {\r\n+                          // Validate & proceed — here we just print state\r\n+                          print('Answer: ${notifier.createState().answerText}');\r\n+                        },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n               children: [\r\n-                RecordAudioButton(\r\n-                  hasRecording: state.audioPath != null,\r\n-                  onRecord: () => notifier.startAudioRecording(),\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n+                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(\r\n+                    painter: _RecordedWavePainter(),\r\n+                  ),\r\n                 ),\r\n-                RecordVideoButton(\r\n-                  hasRecording: state.videoPath != null,\r\n-                  onRecord: () => notifier.startVideoRecording(),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                ),\r\n               ],\r\n             ),\r\n-            const SizedBox(height: 20),\r\n-            AnimatedContainer(\r\n-              duration: const Duration(milliseconds: 400),\r\n-              curve: Curves.easeInOut,\r\n-              width: (state.audioPath != null && state.videoPath != null)\r\n-                  ? double.infinity\r\n-                  : MediaQuery.of(context).size.width * 0.6,\r\n-              child: ElevatedButton(\r\n-                style: ElevatedButton.styleFrom(\r\n-                  backgroundColor: Colors.black,\r\n-                  shape: RoundedRectangleBorder(\r\n-                      borderRadius: BorderRadius.circular(12)),\r\n-                  minimumSize: const Size(double.infinity, 50),\r\n-                ),\r\n-                onPressed: () {\r\n-                  print(\r\n-                      'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}');\r\n-                },\r\n-                child: const Text('Next',\r\n-                    style: TextStyle(color: Colors.white, fontSize: 16)),\r\n-              ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n             ),\r\n-          ],\r\n-        ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n       ),\r\n     );\r\n   }\r\n }\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762863734909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n /// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n /// - animated wave progress header (progress 0.66)\r\n /// - big dark multiline input with blue focus border\r\n"
                },
                {
                    "date": 1762863747295,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n /// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n /// - animated wave progress header (progress 0.66)\r\n"
                },
                {
                    "date": 1762863795023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -308,9 +308,9 @@\n                       ),\r\n                       child: TextButton(\r\n                         onPressed: (notifier == null) ? null : () {\r\n                           // Validate & proceed — here we just print state\r\n-                          print('Answer: ${notifier.createState().answerText}');\r\n+                         \r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n                           padding: EdgeInsets.zero,\r\n"
                },
                {
                    "date": 1762863817651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import 'dart:async';\r\n import 'dart:io';\r\n+import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n"
                },
                {
                    "date": 1762863846077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,10 +3,9 @@\n import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n /// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n"
                },
                {
                    "date": 1762864408068,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,25 +1,14 @@\n import 'dart:async';\r\n import 'dart:io';\r\n-import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n+import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+import 'package:hotspot_onboarding/features/onboarding_question/data/audio_recorder_service.dart';\r\n+import 'package:just_audio/just_audio.dart';\r\n \r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n@@ -31,298 +20,292 @@\n     extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n   final TextEditingController _textController = TextEditingController();\r\n   final FocusNode _focusNode = FocusNode();\r\n \r\n-  // Simulated audio recording state\r\n+  final AudioRecorderService _recorderService = AudioRecorderService();\r\n+  final AudioPlayer _player = AudioPlayer();\r\n+\r\n   bool _isRecording = false;\r\n+  Timer? _recTimer;\r\n   int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n+  String? _recordFilePath;\r\n \r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n+  // For waveform-like animation during recording\r\n   late AnimationController _waveAnimController;\r\n+  double _currentAmplitude = 0.02;\r\n \r\n   @override\r\n   void initState() {\r\n     super.initState();\r\n     _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n       vsync: this,\r\n+      duration: const Duration(milliseconds: 900),\r\n     )..repeat();\r\n   }\r\n \r\n   @override\r\n   void dispose() {\r\n     _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n+    _recTimer?.cancel();\r\n+    _player.dispose();\r\n     _textController.dispose();\r\n     _focusNode.dispose();\r\n     super.dispose();\r\n   }\r\n \r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n+  Future<void> _startRecording() async {\r\n+    // ask permission and start recording\r\n+    final filePath = await _recorderService.startRecording();\r\n+    if (filePath == null) {\r\n+      // permission denied or error\r\n+      ScaffoldMessenger.of(context).showSnackBar(\r\n+        const SnackBar(content: Text('Microphone permission denied')),\r\n+      );\r\n+      return;\r\n+    }\r\n+\r\n     setState(() {\r\n       _isRecording = true;\r\n       _recordSeconds = 0;\r\n+      _recordFilePath = filePath; // tentative target path\r\n     });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+\r\n+    _recTimer?.cancel();\r\n+    _recTimer = Timer.periodic(const Duration(seconds: 1), (_) {\r\n+      setState(() => _recordSeconds++);\r\n+    });\r\n+\r\n+    // amplitude polling for visual (best-effort - may be supported)\r\n+    Timer.periodic(const Duration(milliseconds: 120), (t) async {\r\n+      if (!_isRecording) {\r\n+        t.cancel();\r\n+        return;\r\n+      }\r\n+      final amp = await _recorderService.getAmplitude();\r\n       setState(() {\r\n-        _recordSeconds++;\r\n+        _currentAmplitude = amp.clamp(0.01, 1.0);\r\n       });\r\n     });\r\n   }\r\n \r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n+  Future<void> _stopRecording() async {\r\n+    _recTimer?.cancel();\r\n+    setState(() => _isRecording = false);\r\n \r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+    // stop the recorder and try to get final path\r\n+    final stoppedPath = await _recorderService.stopRecording();\r\n+    // if stop returned path, use it; otherwise keep the tentative path\r\n+    if (stoppedPath != null && stoppedPath.isNotEmpty) {\r\n+      _recordFilePath = stoppedPath;\r\n+    }\r\n+\r\n+    if (_recordFilePath != null) {\r\n+      // update provider\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_recordFilePath!);\r\n+    }\r\n+    setState(() {});\r\n   }\r\n \r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  Future<void> _playRecorded() async {\r\n+    if (_recordFilePath == null) return;\r\n+    try {\r\n+      await _player.setFilePath(_recordFilePath!);\r\n+      _player.play();\r\n+    } catch (e) {\r\n+      debugPrint('Playback error: $e');\r\n+    }\r\n   }\r\n \r\n-  void _deleteVideo() {\r\n+  Future<void> _deleteRecording() async {\r\n+    if (_recordFilePath != null) {\r\n+      await _recorderService.deleteFile(_recordFilePath!);\r\n+    }\r\n     setState(() {\r\n-      _videoPath = null;\r\n+      _recordFilePath = null;\r\n+      _recordSeconds = 0;\r\n     });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n   }\r\n \r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n+  String _format(int seconds) {\r\n+    final m = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final s = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$m:$s';\r\n   }\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     final onboardingState = ref.watch(onboardingProvider);\r\n     final notifier = ref.read(onboardingProvider.notifier);\r\n \r\n-    // Keep local controller text and provider synced\r\n+    // Keep field synced (provider has answerText)\r\n     _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n+    _textController.selection =\r\n+        TextSelection.collapsed(offset: _textController.text.length);\r\n \r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n-\r\n     return Scaffold(\r\n       backgroundColor: const Color(0xFF0B0B0B),\r\n       body: SafeArea(\r\n         child: Column(\r\n           children: [\r\n-            // ===== Header with wave progress =====\r\n             WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n+              progress: 0.66,\r\n               onBack: () => Navigator.pop(context),\r\n               onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n             ),\r\n \r\n-            // ===== Content area (scrollable) =====\r\n             Expanded(\r\n               child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n+                padding:\r\n+                    const EdgeInsets.symmetric(horizontal: 18.0, vertical: 6.0),\r\n                 child: Column(\r\n                   crossAxisAlignment: CrossAxisAlignment.start,\r\n                   children: [\r\n                     const SizedBox(height: 8),\r\n-                    // small index text\r\n                     Text(\r\n                       '02',\r\n                       style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n+                          color: Colors.grey.shade600, fontSize: 12),\r\n                     ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n+                    const SizedBox(height: 8),\r\n                     Text(\r\n                       'Why do you want to host with us?',\r\n                       style: GoogleFonts.inter(\r\n                         color: Colors.white,\r\n                         fontWeight: FontWeight.w700,\r\n                         fontSize: 22,\r\n-                        height: 1.05,\r\n                       ),\r\n                     ),\r\n                     const SizedBox(height: 8),\r\n-                    // Subtitle\r\n                     Text(\r\n                       'Tell us about your intent and what motivates you to create experiences.',\r\n                       style: GoogleFonts.inter(\r\n                         color: Colors.grey.shade500,\r\n                         fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n                         height: 1.4,\r\n                       ),\r\n                     ),\r\n-                    const SizedBox(height: 20),\r\n+                    const SizedBox(height: 18),\r\n \r\n-                    // ===== Large input box (blue outline when focused) =====\r\n+                    // big input box\r\n                     Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n+                      onFocusChange: (_) => setState(() {}),\r\n                       child: Container(\r\n                         decoration: BoxDecoration(\r\n                           color: const Color(0xFF121212),\r\n                           borderRadius: BorderRadius.circular(12),\r\n                           border: Border.all(\r\n-                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n+                            color: _focusNode.hasFocus\r\n+                                ? const Color(0xFF6F8BFF)\r\n+                                : Colors.grey.shade800,\r\n                             width: _focusNode.hasFocus ? 2 : 1,\r\n                           ),\r\n                         ),\r\n                         child: TextField(\r\n                           controller: _textController,\r\n                           focusNode: _focusNode,\r\n                           maxLines: 6,\r\n                           maxLength: 600,\r\n-                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n+                          style:\r\n+                              const TextStyle(color: Colors.white, fontSize: 16),\r\n                           cursorColor: const Color(0xFF6F8BFF),\r\n                           decoration: InputDecoration(\r\n                             hintText: '/ Start typing here',\r\n                             hintStyle: TextStyle(color: Colors.grey.shade600),\r\n                             border: InputBorder.none,\r\n                             contentPadding: const EdgeInsets.all(16),\r\n                             counterText: '',\r\n                           ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n+                          onChanged: (v) => notifier.setAnswer(v),\r\n                         ),\r\n                       ),\r\n                     ),\r\n                     const SizedBox(height: 18),\r\n \r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    // Show recording card when recording\r\n                     if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n+                      _recordingCard(),\r\n                       const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                    ] else if (_recordFilePath != null) ...[\r\n+                      _audioRecordedCard(),\r\n                       const SizedBox(height: 12),\r\n                     ],\r\n \r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n+                    // leave room for bottom bar + keyboard\r\n                     SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n                   ],\r\n                 ),\r\n               ),\r\n             ),\r\n \r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            // bottom bar\r\n             Padding(\r\n               padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n               child: Row(\r\n                 children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n+                  // mic button (start/stop or delete)\r\n+                  _actionBox(\r\n+                    child: Icon(\r\n+                      _recordFilePath == null\r\n+                          ? (_isRecording ? Icons.stop : Icons.mic_none)\r\n+                          : Icons.delete_outline,\r\n+                      color: Colors.white,\r\n+                    ),\r\n                     onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n+                      if (_recordFilePath != null) {\r\n+                        _deleteRecording();\r\n                       } else {\r\n-                        // toggle record\r\n                         if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n+                          _startRecording();\r\n                         } else {\r\n-                          _stopSimulatedRecording();\r\n+                          _stopRecording();\r\n                         }\r\n                       }\r\n                     },\r\n                   ),\r\n                   const SizedBox(width: 12),\r\n \r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n+                  // camera placeholder (we'll implement real video later)\r\n+                  _actionBox(\r\n+                    child: Icon(Icons.videocam_outlined, color: Colors.white),\r\n                     onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n+                      // TODO: implement real camera recording flow\r\n+                      ScaffoldMessenger.of(context).showSnackBar(\r\n+                        const SnackBar(content: Text('Video recording not implemented yet')),\r\n+                      );\r\n                     },\r\n                   ),\r\n-\r\n                   const SizedBox(width: 12),\r\n \r\n-                  // Animated Next button (expands when assets present)\r\n                   Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n+                    child: Container(\r\n                       height: 56,\r\n                       decoration: BoxDecoration(\r\n                         borderRadius: BorderRadius.circular(12),\r\n                         gradient: const LinearGradient(\r\n                           colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n                         ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          )\r\n-                        ],\r\n                         border: Border.all(color: Colors.grey.shade800),\r\n                       ),\r\n                       child: TextButton(\r\n-                        onPressed: (notifier == null) ? null : () {\r\n-                          // Validate & proceed — here we just print state\r\n-                         \r\n+                        onPressed: () {\r\n+                          // Next pressed — you can validate or save state\r\n+                          debugPrint('Next pressed. Answer: ${notifier.createState().answerText}');\r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n+                          shape: RoundedRectangleBorder(\r\n+                              borderRadius: BorderRadius.circular(12)),\r\n                         ),\r\n                         child: Row(\r\n                           mainAxisAlignment: MainAxisAlignment.center,\r\n                           children: [\r\n-                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n+                            Text('Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                    color: Colors.white,\r\n+                                    fontWeight: FontWeight.w600)),\r\n                             const SizedBox(width: 8),\r\n-                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n+                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white)\r\n                           ],\r\n                         ),\r\n                       ),\r\n                     ),\r\n@@ -335,38 +318,35 @@\n       ),\r\n     );\r\n   }\r\n \r\n-  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n+  Widget _actionBox({required Widget child, required VoidCallback onTap}) {\r\n     return Container(\r\n       width: 56,\r\n       height: 56,\r\n       decoration: BoxDecoration(\r\n         color: const Color(0xFF121212),\r\n         borderRadius: BorderRadius.circular(10),\r\n         border: Border.all(color: Colors.grey.shade800),\r\n       ),\r\n-      child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n-      ),\r\n+      child: IconButton(onPressed: onTap, icon: child),\r\n     );\r\n   }\r\n \r\n-  Widget _buildRecordingCard() {\r\n+  Widget _recordingCard() {\r\n     return Container(\r\n       decoration: BoxDecoration(\r\n         color: const Color(0xFF151515),\r\n         borderRadius: BorderRadius.circular(12),\r\n         border: Border.all(color: Colors.grey.shade800),\r\n       ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n       child: Row(\r\n         children: [\r\n           // mic circle\r\n           Container(\r\n-            width: 40,\r\n-            height: 40,\r\n+            width: 44,\r\n+            height: 44,\r\n             decoration: BoxDecoration(\r\n               color: const Color(0xFF2B2B2B),\r\n               shape: BoxShape.circle,\r\n               border: Border.all(color: const Color(0xFF6F8BFF)),\r\n@@ -374,50 +354,62 @@\n             child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n           ),\r\n           const SizedBox(width: 12),\r\n \r\n-          // waveform simulation\r\n+          // waveform & timer\r\n           Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                    ),\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text(\r\n+                  'Recording Audio...',\r\n+                  style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n+                ),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 40,\r\n+                  child: AnimatedBuilder(\r\n+                    animation: _waveAnimController,\r\n+                    builder: (context, child) {\r\n+                      // simple bar visualization using current amplitude + animation\r\n+                      return CustomPaint(\r\n+                        painter: _liveWavePainter(_currentAmplitude, _waveAnimController.value),\r\n+                      );\r\n+                    },\r\n                   ),\r\n                 ),\r\n-              ),\r\n+              ],\r\n             ),\r\n           ),\r\n \r\n           const SizedBox(width: 8),\r\n \r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n+          // timer & stop action\r\n+          Column(\r\n+            children: [\r\n+              Text(_format(_recordSeconds), style: GoogleFonts.inter(color: Colors.grey.shade400)),\r\n+              const SizedBox(height: 8),\r\n+              GestureDetector(\r\n+                onTap: _stopRecording,\r\n+                child: Container(\r\n+                  width: 44,\r\n+                  height: 36,\r\n+                  decoration: BoxDecoration(\r\n+                    color: const Color(0xFF222222),\r\n+                    borderRadius: BorderRadius.circular(8),\r\n+                    border: Border.all(color: Colors.grey.shade800),\r\n+                  ),\r\n+                  child: const Icon(Icons.stop, color: Colors.white),\r\n+                ),\r\n               ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n+            ],\r\n           ),\r\n         ],\r\n       ),\r\n     );\r\n   }\r\n \r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n+  Widget _audioRecordedCard() {\r\n     return Container(\r\n       decoration: BoxDecoration(\r\n         color: const Color(0xFF151515),\r\n         borderRadius: BorderRadius.circular(12),\r\n@@ -425,131 +417,88 @@\n       ),\r\n       padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n       child: Row(\r\n         children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n+          // play button\r\n+          GestureDetector(\r\n+            onTap: _playRecorded,\r\n+            child: Container(\r\n+              width: 44,\r\n+              height: 44,\r\n+              decoration: const BoxDecoration(\r\n+                color: Color(0xFF2B2B2B),\r\n+                shape: BoxShape.circle,\r\n+              ),\r\n+              child: const Icon(Icons.play_arrow, color: Colors.white),\r\n             ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n           ),\r\n           const SizedBox(width: 12),\r\n \r\n-          // waveform bar (static visual) + duration\r\n+          // title + waveform static\r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               children: [\r\n-                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                Text('Audio Recorded • ${_format(_recordSeconds)}', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n                 const SizedBox(height: 8),\r\n                 SizedBox(\r\n                   height: 34,\r\n                   child: CustomPaint(\r\n-                    painter: _RecordedWavePainter(),\r\n+                    painter: _recordedWavePainter(),\r\n                   ),\r\n                 ),\r\n               ],\r\n             ),\r\n           ),\r\n \r\n-          // delete icon\r\n+          // delete\r\n           IconButton(\r\n-            onPressed: _deleteAudio,\r\n+            onPressed: _deleteRecording,\r\n             icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n           ),\r\n         ],\r\n       ),\r\n     );\r\n   }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          Expanded(\r\n-            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n-          ),\r\n-\r\n-          IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n }\r\n \r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+// Live visual waveform painter (simple amplitude-based bars)\r\n+class _liveWavePainter extends CustomPainter {\r\n+  final double amplitude; // 0..1\r\n+  final double t; // animation value 0..1\r\n+  _liveWavePainter(this.amplitude, this.t);\r\n \r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n+    final paint = Paint()..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height));\r\n+    final barCount = 20;\r\n+    final gap = size.width / barCount;\r\n+    for (int i = 0; i < barCount; i++) {\r\n+      final phase = (i / barCount * 2 * 3.14159) + (t * 2 * 3.14159);\r\n+      final h = (0.2 + amplitude * 0.8) * size.height * (0.5 + 0.5 * (0.5 + 0.5 * (phase % 1)));\r\n+      final x = i * gap + gap * 0.15;\r\n+      final rect = Rect.fromLTWH(x, size.height / 2 - h / 2, gap * 0.7, h);\r\n+      canvas.drawRRect(RRect.fromRectAndRadius(rect, const Radius.circular(4)), paint);\r\n     }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n   }\r\n \r\n   @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+  bool shouldRepaint(covariant _liveWavePainter oldDelegate) => true;\r\n }\r\n \r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n+// Static recorded waveform painter (visual-only)\r\n+class _recordedWavePainter extends CustomPainter {\r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n     final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n+    final segments = 26;\r\n     final gap = size.width / segments;\r\n     for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final h = ((i % 5) + 1) / 6 * size.height;\r\n       final x = i * gap + gap * 0.2;\r\n       canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n     }\r\n   }\r\n \r\n   @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+  bool shouldRepaint(covariant _recordedWavePainter oldDelegate) => false;\r\n }\r\n"
                },
                {
                    "date": 1762864422657,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/data/audio_recorder_service.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:just_audio/just_audio.dart';\r\n \r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n"
                },
                {
                    "date": 1762864428636,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/data/audio_recorder_service.dart';\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n import 'package:just_audio/just_audio.dart';\r\n \r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n"
                },
                {
                    "date": 1762864438795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/data/audio_recorder_service.dart';\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/data/audio_record_service.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n import 'package:just_audio/just_audio.dart';\r\n \r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n"
                },
                {
                    "date": 1762864444474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,11 +2,9 @@\n import 'dart:io';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/data/audio_recorder_service.dart';\r\n+\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/data/audio_record_service.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n import 'package:just_audio/just_audio.dart';\r\n"
                },
                {
                    "date": 1762864669849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,9 +2,8 @@\n import 'dart:io';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/data/audio_record_service.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n import 'package:just_audio/just_audio.dart';\r\n@@ -53,12 +52,10 @@\n     super.dispose();\r\n   }\r\n \r\n   Future<void> _startRecording() async {\r\n-    // ask permission and start recording\r\n     final filePath = await _recorderService.startRecording();\r\n     if (filePath == null) {\r\n-      // permission denied or error\r\n       ScaffoldMessenger.of(context).showSnackBar(\r\n         const SnackBar(content: Text('Microphone permission denied')),\r\n       );\r\n       return;\r\n@@ -66,17 +63,16 @@\n \r\n     setState(() {\r\n       _isRecording = true;\r\n       _recordSeconds = 0;\r\n-      _recordFilePath = filePath; // tentative target path\r\n+      _recordFilePath = filePath;\r\n     });\r\n \r\n     _recTimer?.cancel();\r\n     _recTimer = Timer.periodic(const Duration(seconds: 1), (_) {\r\n       setState(() => _recordSeconds++);\r\n     });\r\n \r\n-    // amplitude polling for visual (best-effort - may be supported)\r\n     Timer.periodic(const Duration(milliseconds: 120), (t) async {\r\n       if (!_isRecording) {\r\n         t.cancel();\r\n         return;\r\n@@ -91,17 +87,14 @@\n   Future<void> _stopRecording() async {\r\n     _recTimer?.cancel();\r\n     setState(() => _isRecording = false);\r\n \r\n-    // stop the recorder and try to get final path\r\n     final stoppedPath = await _recorderService.stopRecording();\r\n-    // if stop returned path, use it; otherwise keep the tentative path\r\n     if (stoppedPath != null && stoppedPath.isNotEmpty) {\r\n       _recordFilePath = stoppedPath;\r\n     }\r\n \r\n     if (_recordFilePath != null) {\r\n-      // update provider\r\n       ref.read(onboardingProvider.notifier).stopAudioRecording(_recordFilePath!);\r\n     }\r\n     setState(() {});\r\n   }\r\n@@ -137,9 +130,8 @@\n   Widget build(BuildContext context) {\r\n     final onboardingState = ref.watch(onboardingProvider);\r\n     final notifier = ref.read(onboardingProvider.notifier);\r\n \r\n-    // Keep field synced (provider has answerText)\r\n     _textController.text = onboardingState.answerText;\r\n     _textController.selection =\r\n         TextSelection.collapsed(offset: _textController.text.length);\r\n \r\n@@ -152,9 +144,8 @@\n               progress: 0.66,\r\n               onBack: () => Navigator.pop(context),\r\n               onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n             ),\r\n-\r\n             Expanded(\r\n               child: SingleChildScrollView(\r\n                 padding:\r\n                     const EdgeInsets.symmetric(horizontal: 18.0, vertical: 6.0),\r\n@@ -186,9 +177,8 @@\n                       ),\r\n                     ),\r\n                     const SizedBox(height: 18),\r\n \r\n-                    // big input box\r\n                     Focus(\r\n                       onFocusChange: (_) => setState(() {}),\r\n                       child: Container(\r\n                         decoration: BoxDecoration(\r\n@@ -221,30 +211,26 @@\n                       ),\r\n                     ),\r\n                     const SizedBox(height: 18),\r\n \r\n-                    // Show recording card when recording\r\n                     if (_isRecording) ...[\r\n                       _recordingCard(),\r\n                       const SizedBox(height: 12),\r\n                     ] else if (_recordFilePath != null) ...[\r\n                       _audioRecordedCard(),\r\n                       const SizedBox(height: 12),\r\n                     ],\r\n \r\n-                    // leave room for bottom bar + keyboard\r\n                     SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n                   ],\r\n                 ),\r\n               ),\r\n             ),\r\n \r\n-            // bottom bar\r\n             Padding(\r\n               padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n               child: Row(\r\n                 children: [\r\n-                  // mic button (start/stop or delete)\r\n                   _actionBox(\r\n                     child: Icon(\r\n                       _recordFilePath == null\r\n                           ? (_isRecording ? Icons.stop : Icons.mic_none)\r\n@@ -263,21 +249,17 @@\n                       }\r\n                     },\r\n                   ),\r\n                   const SizedBox(width: 12),\r\n-\r\n-                  // camera placeholder (we'll implement real video later)\r\n                   _actionBox(\r\n-                    child: Icon(Icons.videocam_outlined, color: Colors.white),\r\n+                    child: const Icon(Icons.videocam_outlined, color: Colors.white),\r\n                     onTap: () {\r\n-                      // TODO: implement real camera recording flow\r\n                       ScaffoldMessenger.of(context).showSnackBar(\r\n                         const SnackBar(content: Text('Video recording not implemented yet')),\r\n                       );\r\n                     },\r\n                   ),\r\n                   const SizedBox(width: 12),\r\n-\r\n                   Expanded(\r\n                     child: Container(\r\n                       height: 56,\r\n                       decoration: BoxDecoration(\r\n@@ -288,10 +270,9 @@\n                         border: Border.all(color: Colors.grey.shade800),\r\n                       ),\r\n                       child: TextButton(\r\n                         onPressed: () {\r\n-                          // Next pressed — you can validate or save state\r\n-                          debugPrint('Next pressed. Answer: ${notifier.createState().answerText}');\r\n+                          debugPrint('Next pressed. Answer: ${onboardingState.answerText}');\r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n                           shape: RoundedRectangleBorder(\r\n@@ -342,9 +323,8 @@\n       ),\r\n       padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n       child: Row(\r\n         children: [\r\n-          // mic circle\r\n           Container(\r\n             width: 44,\r\n             height: 44,\r\n             decoration: BoxDecoration(\r\n@@ -354,25 +334,20 @@\n             ),\r\n             child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n           ),\r\n           const SizedBox(width: 12),\r\n-\r\n-          // waveform & timer\r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               children: [\r\n-                Text(\r\n-                  'Recording Audio...',\r\n-                  style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                ),\r\n+                Text('Recording Audio...',\r\n+                    style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n                 const SizedBox(height: 8),\r\n                 SizedBox(\r\n                   height: 40,\r\n                   child: AnimatedBuilder(\r\n                     animation: _waveAnimController,\r\n                     builder: (context, child) {\r\n-                      // simple bar visualization using current amplitude + animation\r\n                       return CustomPaint(\r\n                         painter: _liveWavePainter(_currentAmplitude, _waveAnimController.value),\r\n                       );\r\n                     },\r\n@@ -380,15 +355,13 @@\n                 ),\r\n               ],\r\n             ),\r\n           ),\r\n-\r\n           const SizedBox(width: 8),\r\n-\r\n-          // timer & stop action\r\n           Column(\r\n             children: [\r\n-              Text(_format(_recordSeconds), style: GoogleFonts.inter(color: Colors.grey.shade400)),\r\n+              Text(_format(_recordSeconds),\r\n+                  style: GoogleFonts.inter(color: Colors.grey.shade400)),\r\n               const SizedBox(height: 8),\r\n               GestureDetector(\r\n                 onTap: _stopRecording,\r\n                 child: Container(\r\n@@ -418,9 +391,8 @@\n       ),\r\n       padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n       child: Row(\r\n         children: [\r\n-          // play button\r\n           GestureDetector(\r\n             onTap: _playRecorded,\r\n             child: Container(\r\n               width: 44,\r\n@@ -432,15 +404,14 @@\n               child: const Icon(Icons.play_arrow, color: Colors.white),\r\n             ),\r\n           ),\r\n           const SizedBox(width: 12),\r\n-\r\n-          // title + waveform static\r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               children: [\r\n-                Text('Audio Recorded • ${_format(_recordSeconds)}', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                Text('Audio Recorded • ${_format(_recordSeconds)}',\r\n+                    style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n                 const SizedBox(height: 8),\r\n                 SizedBox(\r\n                   height: 34,\r\n                   child: CustomPaint(\r\n@@ -449,10 +420,8 @@\n                 ),\r\n               ],\r\n             ),\r\n           ),\r\n-\r\n-          // delete\r\n           IconButton(\r\n             onPressed: _deleteRecording,\r\n             icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n           ),\r\n@@ -461,43 +430,55 @@\n     );\r\n   }\r\n }\r\n \r\n-// Live visual waveform painter (simple amplitude-based bars)\r\n class _liveWavePainter extends CustomPainter {\r\n-  final double amplitude; // 0..1\r\n-  final double t; // animation value 0..1\r\n+  final double amplitude;\r\n+  final double t;\r\n   _liveWavePainter(this.amplitude, this.t);\r\n \r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height));\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(\r\n+        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n+      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height));\r\n+\r\n     final barCount = 20;\r\n     final gap = size.width / barCount;\r\n+\r\n     for (int i = 0; i < barCount; i++) {\r\n       final phase = (i / barCount * 2 * 3.14159) + (t * 2 * 3.14159);\r\n-      final h = (0.2 + amplitude * 0.8) * size.height * (0.5 + 0.5 * (0.5 + 0.5 * (phase % 1)));\r\n+      final h = (0.2 + amplitude * 0.8) *\r\n+          size.height *\r\n+          (0.5 + 0.5 * (0.5 + 0.5 * (phase % 1)));\r\n       final x = i * gap + gap * 0.15;\r\n       final rect = Rect.fromLTWH(x, size.height / 2 - h / 2, gap * 0.7, h);\r\n-      canvas.drawRRect(RRect.fromRectAndRadius(rect, const Radius.circular(4)), paint);\r\n+      canvas.drawRRect(\r\n+          RRect.fromRectAndRadius(rect, const Radius.circular(4)), paint);\r\n     }\r\n   }\r\n \r\n   @override\r\n   bool shouldRepaint(covariant _liveWavePainter oldDelegate) => true;\r\n }\r\n \r\n-// Static recorded waveform painter (visual-only)\r\n class _recordedWavePainter extends CustomPainter {\r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n+    final paint = Paint()\r\n+      ..color = Colors.grey.shade500\r\n+      ..strokeWidth = 3\r\n+      ..strokeCap = StrokeCap.round;\r\n+\r\n     final segments = 26;\r\n     final gap = size.width / segments;\r\n+\r\n     for (int i = 0; i < segments; i++) {\r\n       final h = ((i % 5) + 1) / 6 * size.height;\r\n       final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2),\r\n+          Offset(x, size.height / 2 + h / 2), paint);\r\n     }\r\n   }\r\n \r\n   @override\r\n"
                },
                {
                    "date": 1762864704150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n       if (!_isRecording) {\r\n         t.cancel();\r\n         return;\r\n       }\r\n-      final amp = await _recorderService.getAmplitude();\r\n+      final amp = await _recorderService.getAmplitude(0.5);\r\n       setState(() {\r\n         _currentAmplitude = amp.clamp(0.01, 1.0);\r\n       });\r\n     });\r\n"
                },
                {
                    "date": 1762865274937,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n import 'dart:io';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n+\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/data/audio_record_service.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n import 'package:just_audio/just_audio.dart';\r\n@@ -52,10 +53,12 @@\n     super.dispose();\r\n   }\r\n \r\n   Future<void> _startRecording() async {\r\n+    // ask permission and start recording\r\n     final filePath = await _recorderService.startRecording();\r\n     if (filePath == null) {\r\n+      // permission denied or error\r\n       ScaffoldMessenger.of(context).showSnackBar(\r\n         const SnackBar(content: Text('Microphone permission denied')),\r\n       );\r\n       return;\r\n@@ -63,22 +66,23 @@\n \r\n     setState(() {\r\n       _isRecording = true;\r\n       _recordSeconds = 0;\r\n-      _recordFilePath = filePath;\r\n+      _recordFilePath = filePath; // tentative target path\r\n     });\r\n \r\n     _recTimer?.cancel();\r\n     _recTimer = Timer.periodic(const Duration(seconds: 1), (_) {\r\n       setState(() => _recordSeconds++);\r\n     });\r\n \r\n+    // amplitude polling for visual (best-effort - may be supported)\r\n     Timer.periodic(const Duration(milliseconds: 120), (t) async {\r\n       if (!_isRecording) {\r\n         t.cancel();\r\n         return;\r\n       }\r\n-      final amp = await _recorderService.getAmplitude(0.5);\r\n+      final amp = await _recorderService.getAmplitude();\r\n       setState(() {\r\n         _currentAmplitude = amp.clamp(0.01, 1.0);\r\n       });\r\n     });\r\n@@ -87,14 +91,17 @@\n   Future<void> _stopRecording() async {\r\n     _recTimer?.cancel();\r\n     setState(() => _isRecording = false);\r\n \r\n+    // stop the recorder and try to get final path\r\n     final stoppedPath = await _recorderService.stopRecording();\r\n+    // if stop returned path, use it; otherwise keep the tentative path\r\n     if (stoppedPath != null && stoppedPath.isNotEmpty) {\r\n       _recordFilePath = stoppedPath;\r\n     }\r\n \r\n     if (_recordFilePath != null) {\r\n+      // update provider\r\n       ref.read(onboardingProvider.notifier).stopAudioRecording(_recordFilePath!);\r\n     }\r\n     setState(() {});\r\n   }\r\n@@ -130,8 +137,9 @@\n   Widget build(BuildContext context) {\r\n     final onboardingState = ref.watch(onboardingProvider);\r\n     final notifier = ref.read(onboardingProvider.notifier);\r\n \r\n+    // Keep field synced (provider has answerText)\r\n     _textController.text = onboardingState.answerText;\r\n     _textController.selection =\r\n         TextSelection.collapsed(offset: _textController.text.length);\r\n \r\n@@ -144,8 +152,9 @@\n               progress: 0.66,\r\n               onBack: () => Navigator.pop(context),\r\n               onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n             ),\r\n+\r\n             Expanded(\r\n               child: SingleChildScrollView(\r\n                 padding:\r\n                     const EdgeInsets.symmetric(horizontal: 18.0, vertical: 6.0),\r\n@@ -177,8 +186,9 @@\n                       ),\r\n                     ),\r\n                     const SizedBox(height: 18),\r\n \r\n+                    // big input box\r\n                     Focus(\r\n                       onFocusChange: (_) => setState(() {}),\r\n                       child: Container(\r\n                         decoration: BoxDecoration(\r\n@@ -211,26 +221,30 @@\n                       ),\r\n                     ),\r\n                     const SizedBox(height: 18),\r\n \r\n+                    // Show recording card when recording\r\n                     if (_isRecording) ...[\r\n                       _recordingCard(),\r\n                       const SizedBox(height: 12),\r\n                     ] else if (_recordFilePath != null) ...[\r\n                       _audioRecordedCard(),\r\n                       const SizedBox(height: 12),\r\n                     ],\r\n \r\n+                    // leave room for bottom bar + keyboard\r\n                     SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n                   ],\r\n                 ),\r\n               ),\r\n             ),\r\n \r\n+            // bottom bar\r\n             Padding(\r\n               padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n               child: Row(\r\n                 children: [\r\n+                  // mic button (start/stop or delete)\r\n                   _actionBox(\r\n                     child: Icon(\r\n                       _recordFilePath == null\r\n                           ? (_isRecording ? Icons.stop : Icons.mic_none)\r\n@@ -249,17 +263,21 @@\n                       }\r\n                     },\r\n                   ),\r\n                   const SizedBox(width: 12),\r\n+\r\n+                  // camera placeholder (we'll implement real video later)\r\n                   _actionBox(\r\n-                    child: const Icon(Icons.videocam_outlined, color: Colors.white),\r\n+                    child: Icon(Icons.videocam_outlined, color: Colors.white),\r\n                     onTap: () {\r\n+                      // TODO: implement real camera recording flow\r\n                       ScaffoldMessenger.of(context).showSnackBar(\r\n                         const SnackBar(content: Text('Video recording not implemented yet')),\r\n                       );\r\n                     },\r\n                   ),\r\n                   const SizedBox(width: 12),\r\n+\r\n                   Expanded(\r\n                     child: Container(\r\n                       height: 56,\r\n                       decoration: BoxDecoration(\r\n@@ -270,9 +288,10 @@\n                         border: Border.all(color: Colors.grey.shade800),\r\n                       ),\r\n                       child: TextButton(\r\n                         onPressed: () {\r\n-                          debugPrint('Next pressed. Answer: ${onboardingState.answerText}');\r\n+                          // Next pressed — you can validate or save state\r\n+                          debugPrint('Next pressed. Answer: ${notifier.createState().answerText}');\r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n                           shape: RoundedRectangleBorder(\r\n@@ -323,8 +342,9 @@\n       ),\r\n       padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n       child: Row(\r\n         children: [\r\n+          // mic circle\r\n           Container(\r\n             width: 44,\r\n             height: 44,\r\n             decoration: BoxDecoration(\r\n@@ -334,20 +354,25 @@\n             ),\r\n             child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n           ),\r\n           const SizedBox(width: 12),\r\n+\r\n+          // waveform & timer\r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               children: [\r\n-                Text('Recording Audio...',\r\n-                    style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                Text(\r\n+                  'Recording Audio...',\r\n+                  style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n+                ),\r\n                 const SizedBox(height: 8),\r\n                 SizedBox(\r\n                   height: 40,\r\n                   child: AnimatedBuilder(\r\n                     animation: _waveAnimController,\r\n                     builder: (context, child) {\r\n+                      // simple bar visualization using current amplitude + animation\r\n                       return CustomPaint(\r\n                         painter: _liveWavePainter(_currentAmplitude, _waveAnimController.value),\r\n                       );\r\n                     },\r\n@@ -355,13 +380,15 @@\n                 ),\r\n               ],\r\n             ),\r\n           ),\r\n+\r\n           const SizedBox(width: 8),\r\n+\r\n+          // timer & stop action\r\n           Column(\r\n             children: [\r\n-              Text(_format(_recordSeconds),\r\n-                  style: GoogleFonts.inter(color: Colors.grey.shade400)),\r\n+              Text(_format(_recordSeconds), style: GoogleFonts.inter(color: Colors.grey.shade400)),\r\n               const SizedBox(height: 8),\r\n               GestureDetector(\r\n                 onTap: _stopRecording,\r\n                 child: Container(\r\n@@ -391,8 +418,9 @@\n       ),\r\n       padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n       child: Row(\r\n         children: [\r\n+          // play button\r\n           GestureDetector(\r\n             onTap: _playRecorded,\r\n             child: Container(\r\n               width: 44,\r\n@@ -404,14 +432,15 @@\n               child: const Icon(Icons.play_arrow, color: Colors.white),\r\n             ),\r\n           ),\r\n           const SizedBox(width: 12),\r\n+\r\n+          // title + waveform static\r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               children: [\r\n-                Text('Audio Recorded • ${_format(_recordSeconds)}',\r\n-                    style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                Text('Audio Recorded • ${_format(_recordSeconds)}', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n                 const SizedBox(height: 8),\r\n                 SizedBox(\r\n                   height: 34,\r\n                   child: CustomPaint(\r\n@@ -420,8 +449,10 @@\n                 ),\r\n               ],\r\n             ),\r\n           ),\r\n+\r\n+          // delete\r\n           IconButton(\r\n             onPressed: _deleteRecording,\r\n             icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n           ),\r\n@@ -430,55 +461,43 @@\n     );\r\n   }\r\n }\r\n \r\n+// Live visual waveform painter (simple amplitude-based bars)\r\n class _liveWavePainter extends CustomPainter {\r\n-  final double amplitude;\r\n-  final double t;\r\n+  final double amplitude; // 0..1\r\n+  final double t; // animation value 0..1\r\n   _liveWavePainter(this.amplitude, this.t);\r\n \r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(\r\n-        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n-      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height));\r\n-\r\n+    final paint = Paint()..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height));\r\n     final barCount = 20;\r\n     final gap = size.width / barCount;\r\n-\r\n     for (int i = 0; i < barCount; i++) {\r\n       final phase = (i / barCount * 2 * 3.14159) + (t * 2 * 3.14159);\r\n-      final h = (0.2 + amplitude * 0.8) *\r\n-          size.height *\r\n-          (0.5 + 0.5 * (0.5 + 0.5 * (phase % 1)));\r\n+      final h = (0.2 + amplitude * 0.8) * size.height * (0.5 + 0.5 * (0.5 + 0.5 * (phase % 1)));\r\n       final x = i * gap + gap * 0.15;\r\n       final rect = Rect.fromLTWH(x, size.height / 2 - h / 2, gap * 0.7, h);\r\n-      canvas.drawRRect(\r\n-          RRect.fromRectAndRadius(rect, const Radius.circular(4)), paint);\r\n+      canvas.drawRRect(RRect.fromRectAndRadius(rect, const Radius.circular(4)), paint);\r\n     }\r\n   }\r\n \r\n   @override\r\n   bool shouldRepaint(covariant _liveWavePainter oldDelegate) => true;\r\n }\r\n \r\n+// Static recorded waveform painter (visual-only)\r\n class _recordedWavePainter extends CustomPainter {\r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..color = Colors.grey.shade500\r\n-      ..strokeWidth = 3\r\n-      ..strokeCap = StrokeCap.round;\r\n-\r\n+    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n     final segments = 26;\r\n     final gap = size.width / segments;\r\n-\r\n     for (int i = 0; i < segments; i++) {\r\n       final h = ((i % 5) + 1) / 6 * size.height;\r\n       final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2),\r\n-          Offset(x, size.height / 2 + h / 2), paint);\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n     }\r\n   }\r\n \r\n   @override\r\n"
                },
                {
                    "date": 1762865280822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,618 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'dart:math';\r\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen>\r\n+    with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath =\r\n+          'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath =\r\n+          'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(\r\n+      offset: _textController.text.length,\r\n+    );\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Column(\r\n+          children: [\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () =>\r\n+                  Navigator.popUntil(context, (route) => route.isFirst),\r\n+            ),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(\r\n+                  horizontal: 18,\r\n+                  vertical: 6,\r\n+                ),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus\r\n+                                ? const Color(0xFF6F8BFF)\r\n+                                : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(\r\n+                            color: Colors.white,\r\n+                            fontSize: 16,\r\n+                          ),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(\r\n+                      height: MediaQuery.of(context).viewInsets.bottom + 12,\r\n+                    ),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null\r\n+                        ? Icons.delete_outline\r\n+                        : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null\r\n+                        ? Icons.delete_outline\r\n+                        : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          ),\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null)\r\n+                            ? null\r\n+                            : () {\r\n+                                // Validate & proceed — here we just print state\r\n+                              },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(\r\n+                            borderRadius: BorderRadius.circular(12),\r\n+                          ),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text(\r\n+                              'Next',\r\n+                              style: GoogleFonts.inter(\r\n+                                color: Colors.white,\r\n+                                fontSize: 16,\r\n+                                fontWeight: FontWeight.w600,\r\n+                              ),\r\n+                            ),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(\r\n+                              Icons.arrow_forward_ios,\r\n+                              size: 14,\r\n+                              color: Colors.white,\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildBottomIconButton({\r\n+    required IconData icon,\r\n+    required VoidCallback onTap,\r\n+  }) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0\r\n+                          ? 'Recording Audio...'\r\n+                          : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade300,\r\n+                        fontSize: 13,\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text(\r\n+                  'Audio Recorded • $duration',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.grey.shade300,\r\n+                    fontSize: 13,\r\n+                  ),\r\n+                ),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(painter: _RecordedWavePainter()),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null\r\n+                  ? DecorationImage(\r\n+                      image: FileImage(File('/')),\r\n+                      fit: BoxFit.cover,\r\n+                    )\r\n+                  : null,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text(\r\n+              'Video Recorded • 00:59',\r\n+              style: GoogleFonts.inter(color: Colors.grey.shade300),\r\n+            ),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(\r\n+        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n+      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..color = Colors.grey.shade500\r\n+      ..strokeWidth = 3\r\n+      ..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(\r\n+        Offset(x, size.height / 2 - h / 2),\r\n+        Offset(x, size.height / 2 + h / 2),\r\n+        paint,\r\n+      );\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762866396341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,11 @@\n import 'dart:async';\r\n import 'dart:io';\r\n-import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-\r\n+import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n+import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n /// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n@@ -27,10 +27,9 @@\n       _OnboardingQuestionScreenState();\r\n }\r\n \r\n class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen>\r\n-    with TickerProviderStateMixin {\r\n+    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n   final TextEditingController _textController = TextEditingController();\r\n   final FocusNode _focusNode = FocusNode();\r\n \r\n   // Simulated audio recording state\r\n@@ -85,10 +84,9 @@\n     _recordTimer?.cancel();\r\n     setState(() {\r\n       _isRecording = false;\r\n       // simulate file path\r\n-      _audioPath =\r\n-          'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n       // update provider state\r\n       ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n     });\r\n   }\r\n@@ -106,10 +104,9 @@\n     // In real implementation:\r\n     //  - open camera preview and record video using camera plugin\r\n     //  - obtain XFile path and set provider\r\n     setState(() {\r\n-      _videoPath =\r\n-          'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n     });\r\n     ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n   }\r\n \r\n@@ -132,11 +129,9 @@\n     final notifier = ref.read(onboardingProvider.notifier);\r\n \r\n     // Keep local controller text and provider synced\r\n     _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(\r\n-      offset: _textController.text.length,\r\n-    );\r\n+    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n \r\n     // For Next button animation — shrink when no record buttons present (both recorded)\r\n     final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n     final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n@@ -149,19 +144,15 @@\n             // ===== Header with wave progress =====\r\n             WaveProgressHeader(\r\n               progress: 0.66, // question 2 of 3: show 66%\r\n               onBack: () => Navigator.pop(context),\r\n-              onClose: () =>\r\n-                  Navigator.popUntil(context, (route) => route.isFirst),\r\n+              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n             ),\r\n \r\n             // ===== Content area (scrollable) =====\r\n             Expanded(\r\n               child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(\r\n-                  horizontal: 18,\r\n-                  vertical: 6,\r\n-                ),\r\n+                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n                 child: Column(\r\n                   crossAxisAlignment: CrossAxisAlignment.start,\r\n                   children: [\r\n                     const SizedBox(height: 8),\r\n@@ -207,23 +198,18 @@\n                         decoration: BoxDecoration(\r\n                           color: const Color(0xFF121212),\r\n                           borderRadius: BorderRadius.circular(12),\r\n                           border: Border.all(\r\n-                            color: _focusNode.hasFocus\r\n-                                ? const Color(0xFF6F8BFF)\r\n-                                : Colors.grey.shade800,\r\n+                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n                             width: _focusNode.hasFocus ? 2 : 1,\r\n                           ),\r\n                         ),\r\n                         child: TextField(\r\n                           controller: _textController,\r\n                           focusNode: _focusNode,\r\n                           maxLines: 6,\r\n                           maxLength: 600,\r\n-                          style: const TextStyle(\r\n-                            color: Colors.white,\r\n-                            fontSize: 16,\r\n-                          ),\r\n+                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n                           cursorColor: const Color(0xFF6F8BFF),\r\n                           decoration: InputDecoration(\r\n                             hintText: '/ Start typing here',\r\n                             hintStyle: TextStyle(color: Colors.grey.shade600),\r\n@@ -256,11 +242,9 @@\n                       const SizedBox(height: 12),\r\n                     ],\r\n \r\n                     // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(\r\n-                      height: MediaQuery.of(context).viewInsets.bottom + 12,\r\n-                    ),\r\n+                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n                   ],\r\n                 ),\r\n               ),\r\n             ),\r\n@@ -271,11 +255,9 @@\n               child: Row(\r\n                 children: [\r\n                   // Mic / Delete (if recorded)\r\n                   _buildBottomIconButton(\r\n-                    icon: _audioPath != null\r\n-                        ? Icons.delete_outline\r\n-                        : Icons.mic_none,\r\n+                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n                     onTap: () {\r\n                       if (_audioPath != null) {\r\n                         _deleteAudio();\r\n                       } else {\r\n@@ -291,11 +273,9 @@\n                   const SizedBox(width: 12),\r\n \r\n                   // Camera / Delete (if recorded)\r\n                   _buildBottomIconButton(\r\n-                    icon: _videoPath != null\r\n-                        ? Icons.delete_outline\r\n-                        : Icons.videocam_outlined,\r\n+                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n                     onTap: () {\r\n                       if (_videoPath != null) {\r\n                         _deleteVideo();\r\n                       } else {\r\n@@ -321,42 +301,28 @@\n                           BoxShadow(\r\n                             color: Colors.white.withOpacity(0.03),\r\n                             blurRadius: 8,\r\n                             offset: const Offset(0, -1),\r\n-                          ),\r\n+                          )\r\n                         ],\r\n                         border: Border.all(color: Colors.grey.shade800),\r\n                       ),\r\n                       child: TextButton(\r\n-                        onPressed: (notifier == null)\r\n-                            ? null\r\n-                            : () {\r\n-                                // Validate & proceed — here we just print state\r\n-                              },\r\n+                        onPressed: (notifier == null) ? null : () {\r\n+                          // Validate & proceed — here we just print state\r\n+                         \r\n+                        },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n                           padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(\r\n-                            borderRadius: BorderRadius.circular(12),\r\n-                          ),\r\n+                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n                         ),\r\n                         child: Row(\r\n                           mainAxisAlignment: MainAxisAlignment.center,\r\n                           children: [\r\n-                            Text(\r\n-                              'Next',\r\n-                              style: GoogleFonts.inter(\r\n-                                color: Colors.white,\r\n-                                fontSize: 16,\r\n-                                fontWeight: FontWeight.w600,\r\n-                              ),\r\n-                            ),\r\n+                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n                             const SizedBox(width: 8),\r\n-                            const Icon(\r\n-                              Icons.arrow_forward_ios,\r\n-                              size: 14,\r\n-                              color: Colors.white,\r\n-                            ),\r\n+                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n                           ],\r\n                         ),\r\n                       ),\r\n                     ),\r\n@@ -369,12 +335,9 @@\n       ),\r\n     );\r\n   }\r\n \r\n-  Widget _buildBottomIconButton({\r\n-    required IconData icon,\r\n-    required VoidCallback onTap,\r\n-  }) {\r\n+  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n     return Container(\r\n       width: 56,\r\n       height: 56,\r\n       decoration: BoxDecoration(\r\n@@ -422,15 +385,10 @@\n                   alignment: Alignment.centerLeft,\r\n                   child: Padding(\r\n                     padding: const EdgeInsets.only(left: 8.0),\r\n                     child: Text(\r\n-                      _recordSeconds == 0\r\n-                          ? 'Recording Audio...'\r\n-                          : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade300,\r\n-                        fontSize: 13,\r\n-                      ),\r\n+                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n                     ),\r\n                   ),\r\n                 ),\r\n               ),\r\n@@ -484,19 +442,15 @@\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               children: [\r\n-                Text(\r\n-                  'Audio Recorded • $duration',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.grey.shade300,\r\n-                    fontSize: 13,\r\n-                  ),\r\n-                ),\r\n+                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n                 const SizedBox(height: 8),\r\n                 SizedBox(\r\n                   height: 34,\r\n-                  child: CustomPaint(painter: _RecordedWavePainter()),\r\n+                  child: CustomPaint(\r\n+                    painter: _RecordedWavePainter(),\r\n+                  ),\r\n                 ),\r\n               ],\r\n             ),\r\n           ),\r\n@@ -527,24 +481,16 @@\n             height: 44,\r\n             decoration: BoxDecoration(\r\n               color: Colors.grey.shade900,\r\n               borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null\r\n-                  ? DecorationImage(\r\n-                      image: FileImage(File('/')),\r\n-                      fit: BoxFit.cover,\r\n-                    )\r\n-                  : null,\r\n+              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n             ),\r\n             child: const Icon(Icons.play_arrow, color: Colors.white),\r\n           ),\r\n           const SizedBox(width: 12),\r\n \r\n           Expanded(\r\n-            child: Text(\r\n-              'Video Recorded • 00:59',\r\n-              style: GoogleFonts.inter(color: Colors.grey.shade300),\r\n-            ),\r\n+            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n           ),\r\n \r\n           IconButton(\r\n             onPressed: _deleteVideo,\r\n@@ -563,11 +509,9 @@\n \r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n     final paint = Paint()\r\n-      ..shader = const LinearGradient(\r\n-        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n-      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n       ..strokeWidth = 2.5\r\n       ..style = PaintingStyle.stroke\r\n       ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n \r\n@@ -595,529 +539,17 @@\n /// Static recorded waveform visual\r\n class _RecordedWavePainter extends CustomPainter {\r\n   @override\r\n   void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..color = Colors.grey.shade500\r\n-      ..strokeWidth = 3\r\n-      ..strokeCap = StrokeCap.round;\r\n+    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n     final segments = 24;\r\n     final gap = size.width / segments;\r\n     for (int i = 0; i < segments; i++) {\r\n       final h = (i % 5 + 1) / 6 * size.height;\r\n       final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(\r\n-        Offset(x, size.height / 2 - h / 2),\r\n-        Offset(x, size.height / 2 + h / 2),\r\n-        paint,\r\n-      );\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n     }\r\n   }\r\n \r\n   @override\r\n   bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n }\r\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/data/audio_record_service.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-import 'package:just_audio/just_audio.dart';\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  final AudioRecorderService _recorderService = AudioRecorderService();\r\n-  final AudioPlayer _player = AudioPlayer();\r\n-\r\n-  bool _isRecording = false;\r\n-  Timer? _recTimer;\r\n-  int _recordSeconds = 0;\r\n-  String? _recordFilePath;\r\n-\r\n-  // For waveform-like animation during recording\r\n-  late AnimationController _waveAnimController;\r\n-  double _currentAmplitude = 0.02;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      vsync: this,\r\n-      duration: const Duration(milliseconds: 900),\r\n-    )..repeat();\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recTimer?.cancel();\r\n-    _player.dispose();\r\n-    _textController.dispose();\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  Future<void> _startRecording() async {\r\n-    // ask permission and start recording\r\n-    final filePath = await _recorderService.startRecording();\r\n-    if (filePath == null) {\r\n-      // permission denied or error\r\n-      ScaffoldMessenger.of(context).showSnackBar(\r\n-        const SnackBar(content: Text('Microphone permission denied')),\r\n-      );\r\n-      return;\r\n-    }\r\n-\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-      _recordFilePath = filePath; // tentative target path\r\n-    });\r\n-\r\n-    _recTimer?.cancel();\r\n-    _recTimer = Timer.periodic(const Duration(seconds: 1), (_) {\r\n-      setState(() => _recordSeconds++);\r\n-    });\r\n-\r\n-    // amplitude polling for visual (best-effort - may be supported)\r\n-    Timer.periodic(const Duration(milliseconds: 120), (t) async {\r\n-      if (!_isRecording) {\r\n-        t.cancel();\r\n-        return;\r\n-      }\r\n-      final amp = await _recorderService.getAmplitude();\r\n-      setState(() {\r\n-        _currentAmplitude = amp.clamp(0.01, 1.0);\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  Future<void> _stopRecording() async {\r\n-    _recTimer?.cancel();\r\n-    setState(() => _isRecording = false);\r\n-\r\n-    // stop the recorder and try to get final path\r\n-    final stoppedPath = await _recorderService.stopRecording();\r\n-    // if stop returned path, use it; otherwise keep the tentative path\r\n-    if (stoppedPath != null && stoppedPath.isNotEmpty) {\r\n-      _recordFilePath = stoppedPath;\r\n-    }\r\n-\r\n-    if (_recordFilePath != null) {\r\n-      // update provider\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_recordFilePath!);\r\n-    }\r\n-    setState(() {});\r\n-  }\r\n-\r\n-  Future<void> _playRecorded() async {\r\n-    if (_recordFilePath == null) return;\r\n-    try {\r\n-      await _player.setFilePath(_recordFilePath!);\r\n-      _player.play();\r\n-    } catch (e) {\r\n-      debugPrint('Playback error: $e');\r\n-    }\r\n-  }\r\n-\r\n-  Future<void> _deleteRecording() async {\r\n-    if (_recordFilePath != null) {\r\n-      await _recorderService.deleteFile(_recordFilePath!);\r\n-    }\r\n-    setState(() {\r\n-      _recordFilePath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  String _format(int seconds) {\r\n-    final m = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final s = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$m:$s';\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // Keep field synced (provider has answerText)\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection =\r\n-        TextSelection.collapsed(offset: _textController.text.length);\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            WaveProgressHeader(\r\n-              progress: 0.66,\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding:\r\n-                    const EdgeInsets.symmetric(horizontal: 18.0, vertical: 6.0),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                          color: Colors.grey.shade600, fontSize: 12),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // big input box\r\n-                    Focus(\r\n-                      onFocusChange: (_) => setState(() {}),\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus\r\n-                                ? const Color(0xFF6F8BFF)\r\n-                                : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style:\r\n-                              const TextStyle(color: Colors.white, fontSize: 16),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) => notifier.setAnswer(v),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // Show recording card when recording\r\n-                    if (_isRecording) ...[\r\n-                      _recordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_recordFilePath != null) ...[\r\n-                      _audioRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // leave room for bottom bar + keyboard\r\n-                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // bottom bar\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n-                children: [\r\n-                  // mic button (start/stop or delete)\r\n-                  _actionBox(\r\n-                    child: Icon(\r\n-                      _recordFilePath == null\r\n-                          ? (_isRecording ? Icons.stop : Icons.mic_none)\r\n-                          : Icons.delete_outline,\r\n-                      color: Colors.white,\r\n-                    ),\r\n-                    onTap: () {\r\n-                      if (_recordFilePath != null) {\r\n-                        _deleteRecording();\r\n-                      } else {\r\n-                        if (!_isRecording) {\r\n-                          _startRecording();\r\n-                        } else {\r\n-                          _stopRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // camera placeholder (we'll implement real video later)\r\n-                  _actionBox(\r\n-                    child: Icon(Icons.videocam_outlined, color: Colors.white),\r\n-                    onTap: () {\r\n-                      // TODO: implement real camera recording flow\r\n-                      ScaffoldMessenger.of(context).showSnackBar(\r\n-                        const SnackBar(content: Text('Video recording not implemented yet')),\r\n-                      );\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  Expanded(\r\n-                    child: Container(\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                        ),\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n-                      ),\r\n-                      child: TextButton(\r\n-                        onPressed: () {\r\n-                          // Next pressed — you can validate or save state\r\n-                          debugPrint('Next pressed. Answer: ${notifier.createState().answerText}');\r\n-                        },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          shape: RoundedRectangleBorder(\r\n-                              borderRadius: BorderRadius.circular(12)),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text('Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                    color: Colors.white,\r\n-                                    fontWeight: FontWeight.w600)),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white)\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _actionBox({required Widget child, required VoidCallback onTap}) {\r\n-    return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      child: IconButton(onPressed: onTap, icon: child),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _recordingCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n-            ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform & timer\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text(\r\n-                  'Recording Audio...',\r\n-                  style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                ),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 40,\r\n-                  child: AnimatedBuilder(\r\n-                    animation: _waveAnimController,\r\n-                    builder: (context, child) {\r\n-                      // simple bar visualization using current amplitude + animation\r\n-                      return CustomPaint(\r\n-                        painter: _liveWavePainter(_currentAmplitude, _waveAnimController.value),\r\n-                      );\r\n-                    },\r\n-                  ),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // timer & stop action\r\n-          Column(\r\n-            children: [\r\n-              Text(_format(_recordSeconds), style: GoogleFonts.inter(color: Colors.grey.shade400)),\r\n-              const SizedBox(height: 8),\r\n-              GestureDetector(\r\n-                onTap: _stopRecording,\r\n-                child: Container(\r\n-                  width: 44,\r\n-                  height: 36,\r\n-                  decoration: BoxDecoration(\r\n-                    color: const Color(0xFF222222),\r\n-                    borderRadius: BorderRadius.circular(8),\r\n-                    border: Border.all(color: Colors.grey.shade800),\r\n-                  ),\r\n-                  child: const Icon(Icons.stop, color: Colors.white),\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _audioRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play button\r\n-          GestureDetector(\r\n-            onTap: _playRecorded,\r\n-            child: Container(\r\n-              width: 44,\r\n-              height: 44,\r\n-              decoration: const BoxDecoration(\r\n-                color: Color(0xFF2B2B2B),\r\n-                shape: BoxShape.circle,\r\n-              ),\r\n-              child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-            ),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // title + waveform static\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text('Audio Recorded • ${_format(_recordSeconds)}', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(\r\n-                    painter: _recordedWavePainter(),\r\n-                  ),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-\r\n-          // delete\r\n-          IconButton(\r\n-            onPressed: _deleteRecording,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Live visual waveform painter (simple amplitude-based bars)\r\n-class _liveWavePainter extends CustomPainter {\r\n-  final double amplitude; // 0..1\r\n-  final double t; // animation value 0..1\r\n-  _liveWavePainter(this.amplitude, this.t);\r\n-\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height));\r\n-    final barCount = 20;\r\n-    final gap = size.width / barCount;\r\n-    for (int i = 0; i < barCount; i++) {\r\n-      final phase = (i / barCount * 2 * 3.14159) + (t * 2 * 3.14159);\r\n-      final h = (0.2 + amplitude * 0.8) * size.height * (0.5 + 0.5 * (0.5 + 0.5 * (phase % 1)));\r\n-      final x = i * gap + gap * 0.15;\r\n-      final rect = Rect.fromLTWH(x, size.height / 2 - h / 2, gap * 0.7, h);\r\n-      canvas.drawRRect(RRect.fromRectAndRadius(rect, const Radius.circular(4)), paint);\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _liveWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-// Static recorded waveform painter (visual-only)\r\n-class _recordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n-    final segments = 26;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = ((i % 5) + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _recordedWavePainter oldDelegate) => false;\r\n-}\r\n"
                },
                {
                    "date": 1762866411879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,10 +2,9 @@\n import 'dart:io';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n /// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n@@ -308,9 +307,9 @@\n                       ),\r\n                       child: TextButton(\r\n                         onPressed: (notifier == null) ? null : () {\r\n                           // Validate & proceed — here we just print state\r\n-                         \r\n+                          print('Answer: ${notifier.createState().answerText}');\r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n                           padding: EdgeInsets.zero,\r\n"
                },
                {
                    "date": 1762866427672,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -307,9 +307,9 @@\n                       ),\r\n                       child: TextButton(\r\n                         onPressed: (notifier == null) ? null : () {\r\n                           // Validate & proceed — here we just print state\r\n-                          print('Answer: ${notifier.createState().answerText}');\r\n+                          \r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n                           padding: EdgeInsets.zero,\r\n"
                },
                {
                    "date": 1762866443971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import 'dart:async';\r\n import 'dart:io';\r\n+import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n \r\n"
                },
                {
                    "date": 1762866596528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,555 +1,18 @@\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/presention/onboarding_screen.dart';\r\n \r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n+void main() {\r\n+  runApp(const HotspotApp());\r\n }\r\n \r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n-  final FocusNode _focusNode = FocusNode();\r\n+class HotspotApp extends StatelessWidget {\r\n+  const HotspotApp({super.key});\r\n \r\n-  // Simulated audio recording state\r\n-  bool _isRecording = false;\r\n-  int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n-\r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n-  late AnimationController _waveAnimController;\r\n-\r\n   @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n-      vsync: this,\r\n-    )..repeat();\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n-    _textController.dispose();\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n-      setState(() {\r\n-        _recordSeconds++;\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n-\r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n-  }\r\n-\r\n-  void _deleteVideo() {\r\n-    setState(() {\r\n-      _videoPath = null;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n-  }\r\n-\r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n-  }\r\n-\r\n-  @override\r\n   Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // Keep local controller text and provider synced\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n-\r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            // ===== Header with wave progress =====\r\n-            WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            // ===== Content area (scrollable) =====\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    // small index text\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                        height: 1.05,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    // Subtitle\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 20),\r\n-\r\n-                    // ===== Large input box (blue outline when focused) =====\r\n-                    Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n-                    if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n-                children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n-                    onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n-                      } else {\r\n-                        // toggle record\r\n-                        if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n-                        } else {\r\n-                          _stopSimulatedRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n-                    onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Animated Next button (expands when assets present)\r\n-                  Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                        ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          )\r\n-                        ],\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n-                      ),\r\n-                      child: TextButton(\r\n-                        onPressed: (notifier == null) ? null : () {\r\n-                          // Validate & proceed — here we just print state\r\n-                          \r\n-                        },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n+    return const MaterialApp(\r\n+      debugShowCheckedModeBanner: false,\r\n+      home: OnboardingScreen(),\r\n     );\r\n   }\r\n-\r\n-  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n-    return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildRecordingCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n-      child: Row(\r\n-        children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 40,\r\n-            height: 40,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n-            ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform simulation\r\n-          Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n-              ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform bar (static visual) + duration\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(\r\n-                    painter: _RecordedWavePainter(),\r\n-                  ),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-\r\n-          // delete icon\r\n-          IconButton(\r\n-            onPressed: _deleteAudio,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          Expanded(\r\n-            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n-          ),\r\n-\r\n-          IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n }\r\n-\r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n-\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n-    }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n-}\r\n"
                },
                {
                    "date": 1762866612185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,618 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/presention/onboarding_screen.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n \r\n-void main() {\r\n-  runApp(const HotspotApp());\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n }\r\n \r\n-class HotspotApp extends StatelessWidget {\r\n-  const HotspotApp({super.key});\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen>\r\n+    with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n \r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n   @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath =\r\n+          'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath =\r\n+          'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n   Widget build(BuildContext context) {\r\n-    return const MaterialApp(\r\n-      debugShowCheckedModeBanner: false,\r\n-      home: OnboardingScreen(),\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(\r\n+      offset: _textController.text.length,\r\n     );\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Column(\r\n+          children: [\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () =>\r\n+                  Navigator.popUntil(context, (route) => route.isFirst),\r\n+            ),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(\r\n+                  horizontal: 18,\r\n+                  vertical: 6,\r\n+                ),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus\r\n+                                ? const Color(0xFF6F8BFF)\r\n+                                : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(\r\n+                            color: Colors.white,\r\n+                            fontSize: 16,\r\n+                          ),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(\r\n+                      height: MediaQuery.of(context).viewInsets.bottom + 12,\r\n+                    ),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null\r\n+                        ? Icons.delete_outline\r\n+                        : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null\r\n+                        ? Icons.delete_outline\r\n+                        : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          ),\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null)\r\n+                            ? null\r\n+                            : () {\r\n+                                // Validate & proceed — here we just print state\r\n+                              },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(\r\n+                            borderRadius: BorderRadius.circular(12),\r\n+                          ),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text(\r\n+                              'Next',\r\n+                              style: GoogleFonts.inter(\r\n+                                color: Colors.white,\r\n+                                fontSize: 16,\r\n+                                fontWeight: FontWeight.w600,\r\n+                              ),\r\n+                            ),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(\r\n+                              Icons.arrow_forward_ios,\r\n+                              size: 14,\r\n+                              color: Colors.white,\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n   }\r\n+\r\n+  Widget _buildBottomIconButton({\r\n+    required IconData icon,\r\n+    required VoidCallback onTap,\r\n+  }) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0\r\n+                          ? 'Recording Audio...'\r\n+                          : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade300,\r\n+                        fontSize: 13,\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text(\r\n+                  'Audio Recorded • $duration',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.grey.shade300,\r\n+                    fontSize: 13,\r\n+                  ),\r\n+                ),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(painter: _RecordedWavePainter()),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null\r\n+                  ? DecorationImage(\r\n+                      image: FileImage(File('/')),\r\n+                      fit: BoxFit.cover,\r\n+                    )\r\n+                  : null,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text(\r\n+              'Video Recorded • 00:59',\r\n+              style: GoogleFonts.inter(color: Colors.grey.shade300),\r\n+            ),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n }\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(\r\n+        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n+      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..color = Colors.grey.shade500\r\n+      ..strokeWidth = 3\r\n+      ..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(\r\n+        Offset(x, size.height / 2 - h / 2),\r\n+        Offset(x, size.height / 2 + h / 2),\r\n+        paint,\r\n+      );\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762866620318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,152 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/screens/experience_selection_screen.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+\r\n+class OnboardingScreen extends StatefulWidget {\r\n+  const OnboardingScreen({super.key});\r\n+\r\n+  @override\r\n+  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n+}\r\n+\r\n+class _OnboardingScreenState extends State<OnboardingScreen>\r\n+    with TickerProviderStateMixin {\r\n+  late AnimationController _fadeController;\r\n+  late Animation<double> _fadeInAnimation;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+\r\n+    // Smooth fade-in effect for content\r\n+    _fadeController = AnimationController(\r\n+      vsync: this,\r\n+      duration: const Duration(seconds: 2),\r\n+    )..forward();\r\n+\r\n+    _fadeInAnimation = CurvedAnimation(\r\n+      parent: _fadeController,\r\n+      curve: Curves.easeInOut,\r\n+    );\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _fadeController.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Stack(\r\n+          children: [\r\n+            // Wave animation background header\r\n+            const Positioned(\r\n+              top: 0,\r\n+              left: 0,\r\n+              right: 0,\r\n+              child: WaveProgressHeader(progress: 0.1),\r\n+            ),\r\n+\r\n+            // Center content with fade-in\r\n+            FadeTransition(\r\n+              opacity: _fadeInAnimation,\r\n+              child: Padding(\r\n+                padding:\r\n+                    const EdgeInsets.symmetric(horizontal: 24, vertical: 40),\r\n+                child: Column(\r\n+                  mainAxisAlignment: MainAxisAlignment.center,\r\n+                  children: [\r\n+                    const Spacer(),\r\n+\r\n+                    // App title\r\n+                    Text(\r\n+                      \"Hotspot Onboarding\",\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontSize: 28,\r\n+                        fontWeight: FontWeight.bold,\r\n+                        letterSpacing: 1,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 12),\r\n+\r\n+                    // Subtitle tagline\r\n+                    Text(\r\n+                      \"Create & host unique experiences for your community.\",\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade400,\r\n+                        fontSize: 14,\r\n+                        height: 1.5,\r\n+                      ),\r\n+                      textAlign: TextAlign.center,\r\n+                    ),\r\n+\r\n+                    const Spacer(),\r\n+\r\n+                    // Button\r\n+                    GestureDetector(\r\n+                      onTap: () {\r\n+                        Navigator.push(\r\n+                          context,\r\n+                          MaterialPageRoute(\r\n+                            builder: (context) =>\r\n+                                const ExperienceSelectionScreen(),\r\n+                          ),\r\n+                        );\r\n+                      },\r\n+                      child: Container(\r\n+                        height: 55,\r\n+                        width: double.infinity,\r\n+                        decoration: BoxDecoration(\r\n+                          borderRadius: BorderRadius.circular(14),\r\n+                          gradient: const LinearGradient(\r\n+                            colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                            begin: Alignment.topLeft,\r\n+                            end: Alignment.bottomRight,\r\n+                          ),\r\n+                          boxShadow: [\r\n+                            BoxShadow(\r\n+                              color: Colors.white.withOpacity(0.05),\r\n+                              blurRadius: 8,\r\n+                              offset: const Offset(0, 2),\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                        alignment: Alignment.center,\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text(\r\n+                              \"Let’s Get Started\",\r\n+                              style: GoogleFonts.inter(\r\n+                                color: Colors.white,\r\n+                                fontSize: 16,\r\n+                                fontWeight: FontWeight.w600,\r\n+                              ),\r\n+                            ),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(\r\n+                              Icons.arrow_forward_ios,\r\n+                              size: 16,\r\n+                              color: Colors.white,\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 40),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1762866629134,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import 'package:flutter/material.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/experince_screen.dart';\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/screens/experience_selection_screen.dart';\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n \r\n class OnboardingScreen extends StatefulWidget {\r\n@@ -149,622 +150,4 @@\n       ),\r\n     );\r\n   }\r\n }\r\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'dart:math';\r\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen>\r\n-    with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  // Simulated audio recording state\r\n-  bool _isRecording = false;\r\n-  int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n-\r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n-  late AnimationController _waveAnimController;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n-      vsync: this,\r\n-    )..repeat();\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n-    _textController.dispose();\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n-      setState(() {\r\n-        _recordSeconds++;\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath =\r\n-          'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n-\r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath =\r\n-          'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n-  }\r\n-\r\n-  void _deleteVideo() {\r\n-    setState(() {\r\n-      _videoPath = null;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n-  }\r\n-\r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // Keep local controller text and provider synced\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(\r\n-      offset: _textController.text.length,\r\n-    );\r\n-\r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            // ===== Header with wave progress =====\r\n-            WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () =>\r\n-                  Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            // ===== Content area (scrollable) =====\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(\r\n-                  horizontal: 18,\r\n-                  vertical: 6,\r\n-                ),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    // small index text\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                        height: 1.05,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    // Subtitle\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 20),\r\n-\r\n-                    // ===== Large input box (blue outline when focused) =====\r\n-                    Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus\r\n-                                ? const Color(0xFF6F8BFF)\r\n-                                : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style: const TextStyle(\r\n-                            color: Colors.white,\r\n-                            fontSize: 16,\r\n-                          ),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n-                    if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(\r\n-                      height: MediaQuery.of(context).viewInsets.bottom + 12,\r\n-                    ),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n-                children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null\r\n-                        ? Icons.delete_outline\r\n-                        : Icons.mic_none,\r\n-                    onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n-                      } else {\r\n-                        // toggle record\r\n-                        if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n-                        } else {\r\n-                          _stopSimulatedRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null\r\n-                        ? Icons.delete_outline\r\n-                        : Icons.videocam_outlined,\r\n-                    onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Animated Next button (expands when assets present)\r\n-                  Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                        ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          ),\r\n-                        ],\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n-                      ),\r\n-                      child: TextButton(\r\n-                        onPressed: (notifier == null)\r\n-                            ? null\r\n-                            : () {\r\n-                                // Validate & proceed — here we just print state\r\n-                              },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(\r\n-                            borderRadius: BorderRadius.circular(12),\r\n-                          ),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text(\r\n-                              'Next',\r\n-                              style: GoogleFonts.inter(\r\n-                                color: Colors.white,\r\n-                                fontSize: 16,\r\n-                                fontWeight: FontWeight.w600,\r\n-                              ),\r\n-                            ),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(\r\n-                              Icons.arrow_forward_ios,\r\n-                              size: 14,\r\n-                              color: Colors.white,\r\n-                            ),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildBottomIconButton({\r\n-    required IconData icon,\r\n-    required VoidCallback onTap,\r\n-  }) {\r\n-    return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildRecordingCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n-      child: Row(\r\n-        children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 40,\r\n-            height: 40,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n-            ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform simulation\r\n-          Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0\r\n-                          ? 'Recording Audio...'\r\n-                          : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade300,\r\n-                        fontSize: 13,\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n-              ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform bar (static visual) + duration\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text(\r\n-                  'Audio Recorded • $duration',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.grey.shade300,\r\n-                    fontSize: 13,\r\n-                  ),\r\n-                ),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(painter: _RecordedWavePainter()),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-\r\n-          // delete icon\r\n-          IconButton(\r\n-            onPressed: _deleteAudio,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null\r\n-                  ? DecorationImage(\r\n-                      image: FileImage(File('/')),\r\n-                      fit: BoxFit.cover,\r\n-                    )\r\n-                  : null,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          Expanded(\r\n-            child: Text(\r\n-              'Video Recorded • 00:59',\r\n-              style: GoogleFonts.inter(color: Colors.grey.shade300),\r\n-            ),\r\n-          ),\r\n-\r\n-          IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n-\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(\r\n-        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n-      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n-    }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..color = Colors.grey.shade500\r\n-      ..strokeWidth = 3\r\n-      ..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(\r\n-        Offset(x, size.height / 2 - h / 2),\r\n-        Offset(x, size.height / 2 + h / 2),\r\n-        paint,\r\n-      );\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n-}\r\n"
                },
                {
                    "date": 1762866637606,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import 'package:flutter/material.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/experince_screen.dart';\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/screens/experience_selection_screen.dart';\r\n+\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n \r\n class OnboardingScreen extends StatefulWidget {\r\n   const OnboardingScreen({super.key});\r\n"
                },
                {
                    "date": 1762866760917,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,553 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n+import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Column(\r\n+          children: [\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n+            ),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          )\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null) ? null : () {\r\n+                          // Validate & proceed — here we just print state\r\n+                          print('Answer: ${notifier.createState().answerText}');\r\n+                        },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(\r\n+                    painter: _RecordedWavePainter(),\r\n+                  ),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762866771242,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import 'dart:async';\r\n import 'dart:io';\r\n+import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n"
                },
                {
                    "date": 1762866790316,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n /// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n /// - animated wave progress header (progress 0.66)\r\n /// - big dark multiline input with blue focus border\r\n"
                },
                {
                    "date": 1762866796647,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,556 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'dart:math';\r\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n+import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Column(\r\n+          children: [\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n+            ),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          )\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null) ? null : () {\r\n+                          // Validate & proceed — here we just print state\r\n+                          print('Answer: ${notifier.createState().answerText}');\r\n+                        },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(\r\n+                    painter: _RecordedWavePainter(),\r\n+                  ),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762866808021,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -309,9 +309,9 @@\n                       ),\r\n                       child: TextButton(\r\n                         onPressed: (notifier == null) ? null : () {\r\n                           // Validate & proceed — here we just print state\r\n-                          print('Answer: ${notifier.createState().answerText}');\r\n+                          \r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n                           padding: EdgeInsets.zero,\r\n"
                },
                {
                    "date": 1762866818166,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,555 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'dart:math';\r\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Column(\r\n+          children: [\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n+            ),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          )\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null) ? null : () {\r\n+                          // Validate & proceed — here we just print state\r\n+                          \r\n+                        },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(\r\n+                    painter: _RecordedWavePainter(),\r\n+                  ),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762866827827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,563 +3,8 @@\n import 'dart:math';\r\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  // Simulated audio recording state\r\n-  bool _isRecording = false;\r\n-  int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n-\r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n-  late AnimationController _waveAnimController;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n-      vsync: this,\r\n-    )..repeat();\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n-    _textController.dispose();\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n-      setState(() {\r\n-        _recordSeconds++;\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n-\r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n-  }\r\n-\r\n-  void _deleteVideo() {\r\n-    setState(() {\r\n-      _videoPath = null;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n-  }\r\n-\r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // Keep local controller text and provider synced\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n-\r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            // ===== Header with wave progress =====\r\n-            WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            // ===== Content area (scrollable) =====\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    // small index text\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                        height: 1.05,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    // Subtitle\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 20),\r\n-\r\n-                    // ===== Large input box (blue outline when focused) =====\r\n-                    Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n-                    if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n-                children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n-                    onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n-                      } else {\r\n-                        // toggle record\r\n-                        if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n-                        } else {\r\n-                          _stopSimulatedRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n-                    onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Animated Next button (expands when assets present)\r\n-                  Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                        ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          )\r\n-                        ],\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n-                      ),\r\n-                      child: TextButton(\r\n-                        onPressed: (notifier == null) ? null : () {\r\n-                          // Validate & proceed — here we just print state\r\n-                          \r\n-                        },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n-    return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildRecordingCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n-      child: Row(\r\n-        children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 40,\r\n-            height: 40,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n-            ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform simulation\r\n-          Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n-              ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform bar (static visual) + duration\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(\r\n-                    painter: _RecordedWavePainter(),\r\n-                  ),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-\r\n-          // delete icon\r\n-          IconButton(\r\n-            onPressed: _deleteAudio,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          Expanded(\r\n-            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n-          ),\r\n-\r\n-          IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n-\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n-    }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n-}\r\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'dart:math';\r\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n@@ -864,563 +309,8 @@\n                       ),\r\n                       child: TextButton(\r\n                         onPressed: (notifier == null) ? null : () {\r\n                           // Validate & proceed — here we just print state\r\n-                          \r\n-                        },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n-    return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildRecordingCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n-      child: Row(\r\n-        children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 40,\r\n-            height: 40,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n-            ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform simulation\r\n-          Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n-              ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform bar (static visual) + duration\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(\r\n-                    painter: _RecordedWavePainter(),\r\n-                  ),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-\r\n-          // delete icon\r\n-          IconButton(\r\n-            onPressed: _deleteAudio,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          Expanded(\r\n-            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n-          ),\r\n-\r\n-          IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n-\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n-    }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n-}\r\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'dart:math';\r\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  // Simulated audio recording state\r\n-  bool _isRecording = false;\r\n-  int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n-\r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n-  late AnimationController _waveAnimController;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n-      vsync: this,\r\n-    )..repeat();\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n-    _textController.dispose();\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n-      setState(() {\r\n-        _recordSeconds++;\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n-\r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n-  }\r\n-\r\n-  void _deleteVideo() {\r\n-    setState(() {\r\n-      _videoPath = null;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n-  }\r\n-\r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // Keep local controller text and provider synced\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n-\r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            // ===== Header with wave progress =====\r\n-            WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            // ===== Content area (scrollable) =====\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    // small index text\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                        height: 1.05,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    // Subtitle\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 20),\r\n-\r\n-                    // ===== Large input box (blue outline when focused) =====\r\n-                    Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n-                    if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n-                children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n-                    onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n-                      } else {\r\n-                        // toggle record\r\n-                        if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n-                        } else {\r\n-                          _stopSimulatedRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n-                    onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Animated Next button (expands when assets present)\r\n-                  Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                        ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          )\r\n-                        ],\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n-                      ),\r\n-                      child: TextButton(\r\n-                        onPressed: (notifier == null) ? null : () {\r\n-                          // Validate & proceed — here we just print state\r\n                           print('Answer: ${notifier.createState().answerText}');\r\n                         },\r\n                         style: TextButton.styleFrom(\r\n                           foregroundColor: Colors.white,\r\n@@ -1663,157 +553,4 @@\n \r\n   @override\r\n   bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n }\r\n-import 'package:flutter/material.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/experince_screen.dart';\r\n-\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-\r\n-class OnboardingScreen extends StatefulWidget {\r\n-  const OnboardingScreen({super.key});\r\n-\r\n-  @override\r\n-  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n-}\r\n-\r\n-class _OnboardingScreenState extends State<OnboardingScreen>\r\n-    with TickerProviderStateMixin {\r\n-  late AnimationController _fadeController;\r\n-  late Animation<double> _fadeInAnimation;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-\r\n-    // Smooth fade-in effect for content\r\n-    _fadeController = AnimationController(\r\n-      vsync: this,\r\n-      duration: const Duration(seconds: 2),\r\n-    )..forward();\r\n-\r\n-    _fadeInAnimation = CurvedAnimation(\r\n-      parent: _fadeController,\r\n-      curve: Curves.easeInOut,\r\n-    );\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _fadeController.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Stack(\r\n-          children: [\r\n-            // Wave animation background header\r\n-            const Positioned(\r\n-              top: 0,\r\n-              left: 0,\r\n-              right: 0,\r\n-              child: WaveProgressHeader(progress: 0.1),\r\n-            ),\r\n-\r\n-            // Center content with fade-in\r\n-            FadeTransition(\r\n-              opacity: _fadeInAnimation,\r\n-              child: Padding(\r\n-                padding:\r\n-                    const EdgeInsets.symmetric(horizontal: 24, vertical: 40),\r\n-                child: Column(\r\n-                  mainAxisAlignment: MainAxisAlignment.center,\r\n-                  children: [\r\n-                    const Spacer(),\r\n-\r\n-                    // App title\r\n-                    Text(\r\n-                      \"Hotspot Onboarding\",\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontSize: 28,\r\n-                        fontWeight: FontWeight.bold,\r\n-                        letterSpacing: 1,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 12),\r\n-\r\n-                    // Subtitle tagline\r\n-                    Text(\r\n-                      \"Create & host unique experiences for your community.\",\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade400,\r\n-                        fontSize: 14,\r\n-                        height: 1.5,\r\n-                      ),\r\n-                      textAlign: TextAlign.center,\r\n-                    ),\r\n-\r\n-                    const Spacer(),\r\n-\r\n-                    // Button\r\n-                    GestureDetector(\r\n-                      onTap: () {\r\n-                        Navigator.push(\r\n-                          context,\r\n-                          MaterialPageRoute(\r\n-                            builder: (context) =>\r\n-                                const ExperienceSelectionScreen(),\r\n-                          ),\r\n-                        );\r\n-                      },\r\n-                      child: Container(\r\n-                        height: 55,\r\n-                        width: double.infinity,\r\n-                        decoration: BoxDecoration(\r\n-                          borderRadius: BorderRadius.circular(14),\r\n-                          gradient: const LinearGradient(\r\n-                            colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                            begin: Alignment.topLeft,\r\n-                            end: Alignment.bottomRight,\r\n-                          ),\r\n-                          boxShadow: [\r\n-                            BoxShadow(\r\n-                              color: Colors.white.withOpacity(0.05),\r\n-                              blurRadius: 8,\r\n-                              offset: const Offset(0, 2),\r\n-                            ),\r\n-                          ],\r\n-                        ),\r\n-                        alignment: Alignment.center,\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text(\r\n-                              \"Let’s Get Started\",\r\n-                              style: GoogleFonts.inter(\r\n-                                color: Colors.white,\r\n-                                fontSize: 16,\r\n-                                fontWeight: FontWeight.w600,\r\n-                              ),\r\n-                            ),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(\r\n-                              Icons.arrow_forward_ios,\r\n-                              size: 16,\r\n-                              color: Colors.white,\r\n-                            ),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 40),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n"
                },
                {
                    "date": 1762866837179,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,152 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/screens/experience_selection_screen.dart';\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+\r\n+class OnboardingScreen extends StatefulWidget {\r\n+  const OnboardingScreen({super.key});\r\n+\r\n+  @override\r\n+  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n+}\r\n+\r\n+class _OnboardingScreenState extends State<OnboardingScreen>\r\n+    with TickerProviderStateMixin {\r\n+  late AnimationController _fadeController;\r\n+  late Animation<double> _fadeInAnimation;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+\r\n+    // Smooth fade-in effect for content\r\n+    _fadeController = AnimationController(\r\n+      vsync: this,\r\n+      duration: const Duration(seconds: 2),\r\n+    )..forward();\r\n+\r\n+    _fadeInAnimation = CurvedAnimation(\r\n+      parent: _fadeController,\r\n+      curve: Curves.easeInOut,\r\n+    );\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _fadeController.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Stack(\r\n+          children: [\r\n+            // Wave animation background header\r\n+            const Positioned(\r\n+              top: 0,\r\n+              left: 0,\r\n+              right: 0,\r\n+              child: WaveProgressHeader(progress: 0.1),\r\n+            ),\r\n+\r\n+            // Center content with fade-in\r\n+            FadeTransition(\r\n+              opacity: _fadeInAnimation,\r\n+              child: Padding(\r\n+                padding:\r\n+                    const EdgeInsets.symmetric(horizontal: 24, vertical: 40),\r\n+                child: Column(\r\n+                  mainAxisAlignment: MainAxisAlignment.center,\r\n+                  children: [\r\n+                    const Spacer(),\r\n+\r\n+                    // App title\r\n+                    Text(\r\n+                      \"Hotspot Onboarding\",\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontSize: 28,\r\n+                        fontWeight: FontWeight.bold,\r\n+                        letterSpacing: 1,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 12),\r\n+\r\n+                    // Subtitle tagline\r\n+                    Text(\r\n+                      \"Create & host unique experiences for your community.\",\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade400,\r\n+                        fontSize: 14,\r\n+                        height: 1.5,\r\n+                      ),\r\n+                      textAlign: TextAlign.center,\r\n+                    ),\r\n+\r\n+                    const Spacer(),\r\n+\r\n+                    // Button\r\n+                    GestureDetector(\r\n+                      onTap: () {\r\n+                        Navigator.push(\r\n+                          context,\r\n+                          MaterialPageRoute(\r\n+                            builder: (context) =>\r\n+                                const ExperienceSelectionScreen(),\r\n+                          ),\r\n+                        );\r\n+                      },\r\n+                      child: Container(\r\n+                        height: 55,\r\n+                        width: double.infinity,\r\n+                        decoration: BoxDecoration(\r\n+                          borderRadius: BorderRadius.circular(14),\r\n+                          gradient: const LinearGradient(\r\n+                            colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                            begin: Alignment.topLeft,\r\n+                            end: Alignment.bottomRight,\r\n+                          ),\r\n+                          boxShadow: [\r\n+                            BoxShadow(\r\n+                              color: Colors.white.withOpacity(0.05),\r\n+                              blurRadius: 8,\r\n+                              offset: const Offset(0, 2),\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                        alignment: Alignment.center,\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text(\r\n+                              \"Let’s Get Started\",\r\n+                              style: GoogleFonts.inter(\r\n+                                color: Colors.white,\r\n+                                fontSize: 16,\r\n+                                fontWeight: FontWeight.w600,\r\n+                              ),\r\n+                            ),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(\r\n+                              Icons.arrow_forward_ios,\r\n+                              size: 16,\r\n+                              color: Colors.white,\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 40),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1762866845475,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,555 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'dart:math';\r\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Column(\r\n+          children: [\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n+            ),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          )\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null) ? null : () {\r\n+                          // Validate & proceed — here we just print state\r\n+                          \r\n+                        },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(\r\n+                    painter: _RecordedWavePainter(),\r\n+                  ),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762866852935,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,618 @@\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'dart:math';\r\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n+/// - animated wave progress header (progress 0.66)\r\n+/// - big dark multiline input with blue focus border\r\n+/// - simulated audio recording card (waveform + timer + delete)\r\n+/// - simulated video recorded card (thumbnail + time + delete)\r\n+/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n+///\r\n+/// TODO: Replace simulated recording logic with real services:\r\n+///  - For audio: use `record` or your AudioRecorderService\r\n+///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n+///  - For video: use camera package and save XFile path\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen>\r\n+    with TickerProviderStateMixin {\r\n+  final TextEditingController _textController = TextEditingController();\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  // Simulated audio recording state\r\n+  bool _isRecording = false;\r\n+  int _recordSeconds = 0;\r\n+  Timer? _recordTimer;\r\n+\r\n+  // Simulated recorded paths (strings) stored in local state & provider\r\n+  String? _audioPath;\r\n+  String? _videoPath;\r\n+\r\n+  // Wave animation controller for the visual waveform when recording\r\n+  late AnimationController _waveAnimController;\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    _waveAnimController = AnimationController(\r\n+      duration: const Duration(milliseconds: 1400),\r\n+      vsync: this,\r\n+    )..repeat();\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _waveAnimController.dispose();\r\n+    _recordTimer?.cancel();\r\n+    _textController.dispose();\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  void _startSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - request mic permission\r\n+    //  - call audioRecorderService.startRecording()\r\n+    setState(() {\r\n+      _isRecording = true;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n+      setState(() {\r\n+        _recordSeconds++;\r\n+      });\r\n+    });\r\n+  }\r\n+\r\n+  void _stopSimulatedRecording() {\r\n+    // In real implementation:\r\n+    //  - await audioRecorderService.stopRecording()\r\n+    //  - get recorded file path and set provider\r\n+    _recordTimer?.cancel();\r\n+    setState(() {\r\n+      _isRecording = false;\r\n+      // simulate file path\r\n+      _audioPath =\r\n+          'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n+      // update provider state\r\n+      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n+    });\r\n+  }\r\n+\r\n+  void _deleteAudio() {\r\n+    // TODO: delete actual file if real recording is used\r\n+    setState(() {\r\n+      _audioPath = null;\r\n+      _recordSeconds = 0;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteAudio();\r\n+  }\r\n+\r\n+  Future<void> _simulateRecordVideo() async {\r\n+    // In real implementation:\r\n+    //  - open camera preview and record video using camera plugin\r\n+    //  - obtain XFile path and set provider\r\n+    setState(() {\r\n+      _videoPath =\r\n+          'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n+  }\r\n+\r\n+  void _deleteVideo() {\r\n+    setState(() {\r\n+      _videoPath = null;\r\n+    });\r\n+    ref.read(onboardingProvider.notifier).deleteVideo();\r\n+  }\r\n+\r\n+  String _formatDuration(int seconds) {\r\n+    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n+    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n+    return '$min:$sec';\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final onboardingState = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // Keep local controller text and provider synced\r\n+    _textController.text = onboardingState.answerText;\r\n+    _textController.selection = TextSelection.collapsed(\r\n+      offset: _textController.text.length,\r\n+    );\r\n+\r\n+    // For Next button animation — shrink when no record buttons present (both recorded)\r\n+    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n+    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: const Color(0xFF0B0B0B),\r\n+      body: SafeArea(\r\n+        child: Column(\r\n+          children: [\r\n+            // ===== Header with wave progress =====\r\n+            WaveProgressHeader(\r\n+              progress: 0.66, // question 2 of 3: show 66%\r\n+              onBack: () => Navigator.pop(context),\r\n+              onClose: () =>\r\n+                  Navigator.popUntil(context, (route) => route.isFirst),\r\n+            ),\r\n+\r\n+            // ===== Content area (scrollable) =====\r\n+            Expanded(\r\n+              child: SingleChildScrollView(\r\n+                padding: const EdgeInsets.symmetric(\r\n+                  horizontal: 18,\r\n+                  vertical: 6,\r\n+                ),\r\n+                child: Column(\r\n+                  crossAxisAlignment: CrossAxisAlignment.start,\r\n+                  children: [\r\n+                    const SizedBox(height: 8),\r\n+                    // small index text\r\n+                    Text(\r\n+                      '02',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade600,\r\n+                        fontSize: 12,\r\n+                        fontWeight: FontWeight.w500,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 6),\r\n+                    // Title\r\n+                    Text(\r\n+                      'Why do you want to host with us?',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.white,\r\n+                        fontWeight: FontWeight.w700,\r\n+                        fontSize: 22,\r\n+                        height: 1.05,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 8),\r\n+                    // Subtitle\r\n+                    Text(\r\n+                      'Tell us about your intent and what motivates you to create experiences.',\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade500,\r\n+                        fontSize: 13,\r\n+                        fontWeight: FontWeight.w400,\r\n+                        height: 1.4,\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 20),\r\n+\r\n+                    // ===== Large input box (blue outline when focused) =====\r\n+                    Focus(\r\n+                      onFocusChange: (focused) {\r\n+                        setState(() {}); // rebuild to show outline\r\n+                      },\r\n+                      child: Container(\r\n+                        decoration: BoxDecoration(\r\n+                          color: const Color(0xFF121212),\r\n+                          borderRadius: BorderRadius.circular(12),\r\n+                          border: Border.all(\r\n+                            color: _focusNode.hasFocus\r\n+                                ? const Color(0xFF6F8BFF)\r\n+                                : Colors.grey.shade800,\r\n+                            width: _focusNode.hasFocus ? 2 : 1,\r\n+                          ),\r\n+                        ),\r\n+                        child: TextField(\r\n+                          controller: _textController,\r\n+                          focusNode: _focusNode,\r\n+                          maxLines: 6,\r\n+                          maxLength: 600,\r\n+                          style: const TextStyle(\r\n+                            color: Colors.white,\r\n+                            fontSize: 16,\r\n+                          ),\r\n+                          cursorColor: const Color(0xFF6F8BFF),\r\n+                          decoration: InputDecoration(\r\n+                            hintText: '/ Start typing here',\r\n+                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n+                            border: InputBorder.none,\r\n+                            contentPadding: const EdgeInsets.all(16),\r\n+                            counterText: '',\r\n+                          ),\r\n+                          onChanged: (v) {\r\n+                            notifier.setAnswer(v);\r\n+                          },\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                    const SizedBox(height: 18),\r\n+\r\n+                    // ===== Recorded assets area (audio card / video card) =====\r\n+                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n+                    if (_isRecording) ...[\r\n+                      // Recording in progress card\r\n+                      _buildRecordingCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ] else if (_audioPath != null) ...[\r\n+                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Video recorded card\r\n+                    if (_videoPath != null) ...[\r\n+                      _buildVideoRecordedCard(),\r\n+                      const SizedBox(height: 12),\r\n+                    ],\r\n+\r\n+                    // Spacer to push content above bottom bar when keyboard open\r\n+                    SizedBox(\r\n+                      height: MediaQuery.of(context).viewInsets.bottom + 12,\r\n+                    ),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+\r\n+            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n+            Padding(\r\n+              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n+              child: Row(\r\n+                children: [\r\n+                  // Mic / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _audioPath != null\r\n+                        ? Icons.delete_outline\r\n+                        : Icons.mic_none,\r\n+                    onTap: () {\r\n+                      if (_audioPath != null) {\r\n+                        _deleteAudio();\r\n+                      } else {\r\n+                        // toggle record\r\n+                        if (!_isRecording) {\r\n+                          _startSimulatedRecording();\r\n+                        } else {\r\n+                          _stopSimulatedRecording();\r\n+                        }\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Camera / Delete (if recorded)\r\n+                  _buildBottomIconButton(\r\n+                    icon: _videoPath != null\r\n+                        ? Icons.delete_outline\r\n+                        : Icons.videocam_outlined,\r\n+                    onTap: () {\r\n+                      if (_videoPath != null) {\r\n+                        _deleteVideo();\r\n+                      } else {\r\n+                        _simulateRecordVideo();\r\n+                      }\r\n+                    },\r\n+                  ),\r\n+\r\n+                  const SizedBox(width: 12),\r\n+\r\n+                  // Animated Next button (expands when assets present)\r\n+                  Expanded(\r\n+                    child: AnimatedContainer(\r\n+                      duration: const Duration(milliseconds: 350),\r\n+                      curve: Curves.easeInOut,\r\n+                      height: 56,\r\n+                      decoration: BoxDecoration(\r\n+                        borderRadius: BorderRadius.circular(12),\r\n+                        gradient: const LinearGradient(\r\n+                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                        ),\r\n+                        boxShadow: [\r\n+                          BoxShadow(\r\n+                            color: Colors.white.withOpacity(0.03),\r\n+                            blurRadius: 8,\r\n+                            offset: const Offset(0, -1),\r\n+                          ),\r\n+                        ],\r\n+                        border: Border.all(color: Colors.grey.shade800),\r\n+                      ),\r\n+                      child: TextButton(\r\n+                        onPressed: (notifier == null)\r\n+                            ? null\r\n+                            : () {\r\n+                                // Validate & proceed — here we just print state\r\n+                              },\r\n+                        style: TextButton.styleFrom(\r\n+                          foregroundColor: Colors.white,\r\n+                          padding: EdgeInsets.zero,\r\n+                          shape: RoundedRectangleBorder(\r\n+                            borderRadius: BorderRadius.circular(12),\r\n+                          ),\r\n+                        ),\r\n+                        child: Row(\r\n+                          mainAxisAlignment: MainAxisAlignment.center,\r\n+                          children: [\r\n+                            Text(\r\n+                              'Next',\r\n+                              style: GoogleFonts.inter(\r\n+                                color: Colors.white,\r\n+                                fontSize: 16,\r\n+                                fontWeight: FontWeight.w600,\r\n+                              ),\r\n+                            ),\r\n+                            const SizedBox(width: 8),\r\n+                            const Icon(\r\n+                              Icons.arrow_forward_ios,\r\n+                              size: 14,\r\n+                              color: Colors.white,\r\n+                            ),\r\n+                          ],\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildBottomIconButton({\r\n+    required IconData icon,\r\n+    required VoidCallback onTap,\r\n+  }) {\r\n+    return Container(\r\n+      width: 56,\r\n+      height: 56,\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF121212),\r\n+        borderRadius: BorderRadius.circular(10),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      child: IconButton(\r\n+        icon: Icon(icon, color: Colors.white),\r\n+        onPressed: onTap,\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildRecordingCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n+      child: Row(\r\n+        children: [\r\n+          // mic circle\r\n+          Container(\r\n+            width: 40,\r\n+            height: 40,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+            ),\r\n+            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform simulation\r\n+          Expanded(\r\n+            child: SizedBox(\r\n+              height: 40,\r\n+              child: CustomPaint(\r\n+                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n+                child: Align(\r\n+                  alignment: Alignment.centerLeft,\r\n+                  child: Padding(\r\n+                    padding: const EdgeInsets.only(left: 8.0),\r\n+                    child: Text(\r\n+                      _recordSeconds == 0\r\n+                          ? 'Recording Audio...'\r\n+                          : _formatDuration(_recordSeconds),\r\n+                      style: GoogleFonts.inter(\r\n+                        color: Colors.grey.shade300,\r\n+                        fontSize: 13,\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+            ),\r\n+          ),\r\n+\r\n+          const SizedBox(width: 8),\r\n+\r\n+          // stop button\r\n+          GestureDetector(\r\n+            onTap: _stopSimulatedRecording,\r\n+            child: Container(\r\n+              width: 46,\r\n+              height: 36,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF222222),\r\n+                borderRadius: BorderRadius.circular(8),\r\n+                border: Border.all(color: Colors.grey.shade800),\r\n+              ),\r\n+              child: const Icon(Icons.stop, color: Colors.white),\r\n+            ),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildAudioRecordedCard(String duration) {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // play icon\r\n+          Container(\r\n+            width: 44,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: const Color(0xFF2B2B2B),\r\n+              shape: BoxShape.circle,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          // waveform bar (static visual) + duration\r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              children: [\r\n+                Text(\r\n+                  'Audio Recorded • $duration',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.grey.shade300,\r\n+                    fontSize: 13,\r\n+                  ),\r\n+                ),\r\n+                const SizedBox(height: 8),\r\n+                SizedBox(\r\n+                  height: 34,\r\n+                  child: CustomPaint(painter: _RecordedWavePainter()),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+          ),\r\n+\r\n+          // delete icon\r\n+          IconButton(\r\n+            onPressed: _deleteAudio,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+  Widget _buildVideoRecordedCard() {\r\n+    return Container(\r\n+      decoration: BoxDecoration(\r\n+        color: const Color(0xFF151515),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: Colors.grey.shade800),\r\n+      ),\r\n+      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n+      child: Row(\r\n+        children: [\r\n+          // fake thumbnail\r\n+          Container(\r\n+            width: 54,\r\n+            height: 44,\r\n+            decoration: BoxDecoration(\r\n+              color: Colors.grey.shade900,\r\n+              borderRadius: BorderRadius.circular(8),\r\n+              image: _videoPath != null\r\n+                  ? DecorationImage(\r\n+                      image: FileImage(File('/')),\r\n+                      fit: BoxFit.cover,\r\n+                    )\r\n+                  : null,\r\n+            ),\r\n+            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n+          ),\r\n+          const SizedBox(width: 12),\r\n+\r\n+          Expanded(\r\n+            child: Text(\r\n+              'Video Recorded • 00:59',\r\n+              style: GoogleFonts.inter(color: Colors.grey.shade300),\r\n+            ),\r\n+          ),\r\n+\r\n+          IconButton(\r\n+            onPressed: _deleteVideo,\r\n+            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+/// Simple animated wave painter used while recording (simulated)\r\n+class _SimulatedWavePainter extends CustomPainter {\r\n+  final Animation<double> animation;\r\n+  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n+\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..shader = const LinearGradient(\r\n+        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n+      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n+      ..strokeWidth = 2.5\r\n+      ..style = PaintingStyle.stroke\r\n+      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n+\r\n+    final path = Path();\r\n+    final t = animation.value * 2 * 3.14159;\r\n+    final amplitude = size.height * 0.33;\r\n+    final wavelength = size.width / 6;\r\n+\r\n+    for (double x = 0; x <= size.width; x++) {\r\n+      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n+      if (x == 0) {\r\n+        path.moveTo(x, y);\r\n+      } else {\r\n+        path.lineTo(x, y);\r\n+      }\r\n+    }\r\n+\r\n+    canvas.drawPath(path, paint);\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n+}\r\n+\r\n+/// Static recorded waveform visual\r\n+class _RecordedWavePainter extends CustomPainter {\r\n+  @override\r\n+  void paint(Canvas canvas, Size size) {\r\n+    final paint = Paint()\r\n+      ..color = Colors.grey.shade500\r\n+      ..strokeWidth = 3\r\n+      ..strokeCap = StrokeCap.round;\r\n+    final segments = 24;\r\n+    final gap = size.width / segments;\r\n+    for (int i = 0; i < segments; i++) {\r\n+      final h = (i % 5 + 1) / 6 * size.height;\r\n+      final x = i * gap + gap * 0.2;\r\n+      canvas.drawLine(\r\n+        Offset(x, size.height / 2 - h / 2),\r\n+        Offset(x, size.height / 2 + h / 2),\r\n+        paint,\r\n+      );\r\n+    }\r\n+  }\r\n+\r\n+  @override\r\n+  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n+}\r\n"
                },
                {
                    "date": 1762867234915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,90 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/presention/widgets/record_audio.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/presention/widgets/record_video.dart';\r\n+\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context, WidgetRef ref) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    return Scaffold(\r\n+      appBar: AppBar(\r\n+        title: const Text('Onboarding Question'),\r\n+        backgroundColor: Colors.white,\r\n+        foregroundColor: Colors.black,\r\n+        elevation: 0,\r\n+      ),\r\n+      backgroundColor: Colors.white,\r\n+      body: Padding(\r\n+        padding: const EdgeInsets.all(20.0),\r\n+        child: Column(\r\n+          crossAxisAlignment: CrossAxisAlignment.start,\r\n+          children: [\r\n+            Text(\r\n+              \"Why do you want to host with us?\",\r\n+              style: GoogleFonts.inter(\r\n+                  fontSize: 18, fontWeight: FontWeight.w600),\r\n+            ),\r\n+            const SizedBox(height: 16),\r\n+            TextField(\r\n+              maxLength: 600,\r\n+              maxLines: 6,\r\n+              decoration: InputDecoration(\r\n+                hintText: \"Type your answer here...\",\r\n+                border: OutlineInputBorder(\r\n+                  borderRadius: BorderRadius.circular(12),\r\n+                ),\r\n+              ),\r\n+              onChanged: (val) => notifier.setAnswer(val),\r\n+            ),\r\n+            const Spacer(),\r\n+            Row(\r\n+              mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+              children: [\r\n+                RecordAudioButton(\r\n+                  hasRecording: state.audioPath != null,\r\n+                  onRecord: () => notifier.startAudioRecording(),\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                ),\r\n+                RecordVideoButton(\r\n+                  hasRecording: state.videoPath != null,\r\n+                  onRecord: () => notifier.startVideoRecording(),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                ),\r\n+              ],\r\n+            ),\r\n+            const SizedBox(height: 20),\r\n+            AnimatedContainer(\r\n+              duration: const Duration(milliseconds: 400),\r\n+              curve: Curves.easeInOut,\r\n+              width: (state.audioPath != null && state.videoPath != null)\r\n+                  ? double.infinity\r\n+                  : MediaQuery.of(context).size.width * 0.6,\r\n+              child: ElevatedButton(\r\n+                style: ElevatedButton.styleFrom(\r\n+                  backgroundColor: Colors.black,\r\n+                  shape: RoundedRectangleBorder(\r\n+                      borderRadius: BorderRadius.circular(12)),\r\n+                  minimumSize: const Size(double.infinity, 50),\r\n+                ),\r\n+                onPressed: () {\r\n+                  print(\r\n+                      'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}');\r\n+                },\r\n+                child: const Text('Next',\r\n+                    style: TextStyle(color: Colors.white, fontSize: 16)),\r\n+              ),\r\n+            ),\r\n+          ],\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1762867904537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,733 +1,62 @@\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/presention/widgets/record_audio.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/presention/widgets/record_video.dart';\r\n \r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context, WidgetRef ref) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    return Scaffold(\r\n-      appBar: AppBar(\r\n-        title: const Text('Onboarding Question'),\r\n-        backgroundColor: Colors.white,\r\n-        foregroundColor: Colors.black,\r\n-        elevation: 0,\r\n-      ),\r\n-      backgroundColor: Colors.white,\r\n-      body: Padding(\r\n-        padding: const EdgeInsets.all(20.0),\r\n-        child: Column(\r\n-          crossAxisAlignment: CrossAxisAlignment.start,\r\n-          children: [\r\n-            Text(\r\n-              \"Why do you want to host with us?\",\r\n-              style: GoogleFonts.inter(\r\n-                  fontSize: 18, fontWeight: FontWeight.w600),\r\n-            ),\r\n-            const SizedBox(height: 16),\r\n-            TextField(\r\n-              maxLength: 600,\r\n-              maxLines: 6,\r\n-              decoration: InputDecoration(\r\n-                hintText: \"Type your answer here...\",\r\n-                border: OutlineInputBorder(\r\n-                  borderRadius: BorderRadius.circular(12),\r\n-                ),\r\n-              ),\r\n-              onChanged: (val) => notifier.setAnswer(val),\r\n-            ),\r\n-            const Spacer(),\r\n-            Row(\r\n-              mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-              children: [\r\n-                RecordAudioButton(\r\n-                  hasRecording: state.audioPath != null,\r\n-                  onRecord: () => notifier.startAudioRecording(),\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                ),\r\n-                RecordVideoButton(\r\n-                  hasRecording: state.videoPath != null,\r\n-                  onRecord: () => notifier.startVideoRecording(),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-            const SizedBox(height: 20),\r\n-            AnimatedContainer(\r\n-              duration: const Duration(milliseconds: 400),\r\n-              curve: Curves.easeInOut,\r\n-              width: (state.audioPath != null && state.videoPath != null)\r\n-                  ? double.infinity\r\n-                  : MediaQuery.of(context).size.width * 0.6,\r\n-              child: ElevatedButton(\r\n-                style: ElevatedButton.styleFrom(\r\n-                  backgroundColor: Colors.black,\r\n-                  shape: RoundedRectangleBorder(\r\n-                      borderRadius: BorderRadius.circular(12)),\r\n-                  minimumSize: const Size(double.infinity, 50),\r\n-                ),\r\n-                onPressed: () {\r\n-                  print(\r\n-                      'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}');\r\n-                },\r\n-                child: const Text('Next',\r\n-                    style: TextStyle(color: Colors.white, fontSize: 16)),\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'dart:math';\r\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n+// Assuming these are in the same folder, correct imports as needed\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+// These are placeholders for your custom recording buttons.\r\n+// The Figma just shows IconButtons, so I've implemented that.\r\n+class RecordAudioButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  // ... other properties\r\n+  const RecordAudioButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n \r\n   @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen>\r\n-    with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  // Simulated audio recording state\r\n-  bool _isRecording = false;\r\n-  int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n-\r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n-  late AnimationController _waveAnimController;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n-      vsync: this,\r\n-    )..repeat();\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n-    _textController.dispose();\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n-      setState(() {\r\n-        _recordSeconds++;\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath =\r\n-          'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n-\r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath =\r\n-          'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n-  }\r\n-\r\n-  void _deleteVideo() {\r\n-    setState(() {\r\n-      _videoPath = null;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n-  }\r\n-\r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n-  }\r\n-\r\n-  @override\r\n   Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // Keep local controller text and provider synced\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(\r\n-      offset: _textController.text.length,\r\n-    );\r\n-\r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            // ===== Header with wave progress =====\r\n-            WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () =>\r\n-                  Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            // ===== Content area (scrollable) =====\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(\r\n-                  horizontal: 18,\r\n-                  vertical: 6,\r\n-                ),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    // small index text\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                        height: 1.05,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    // Subtitle\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 20),\r\n-\r\n-                    // ===== Large input box (blue outline when focused) =====\r\n-                    Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus\r\n-                                ? const Color(0xFF6F8BFF)\r\n-                                : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style: const TextStyle(\r\n-                            color: Colors.white,\r\n-                            fontSize: 16,\r\n-                          ),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n-                    if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(\r\n-                      height: MediaQuery.of(context).viewInsets.bottom + 12,\r\n-                    ),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n-                children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null\r\n-                        ? Icons.delete_outline\r\n-                        : Icons.mic_none,\r\n-                    onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n-                      } else {\r\n-                        // toggle record\r\n-                        if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n-                        } else {\r\n-                          _stopSimulatedRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null\r\n-                        ? Icons.delete_outline\r\n-                        : Icons.videocam_outlined,\r\n-                    onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Animated Next button (expands when assets present)\r\n-                  Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                        ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          ),\r\n-                        ],\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n-                      ),\r\n-                      child: TextButton(\r\n-                        onPressed: (notifier == null)\r\n-                            ? null\r\n-                            : () {\r\n-                                // Validate & proceed — here we just print state\r\n-                              },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(\r\n-                            borderRadius: BorderRadius.circular(12),\r\n-                          ),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text(\r\n-                              'Next',\r\n-                              style: GoogleFonts.inter(\r\n-                                color: Colors.white,\r\n-                                fontSize: 16,\r\n-                                fontWeight: FontWeight.w600,\r\n-                              ),\r\n-                            ),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(\r\n-                              Icons.arrow_forward_ios,\r\n-                              size: 14,\r\n-                              color: Colors.white,\r\n-                            ),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildBottomIconButton({\r\n-    required IconData icon,\r\n-    required VoidCallback onTap,\r\n-  }) {\r\n+    // Figma shows a simple icon button\r\n     return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n+        color: const Color(0xFF1E1E1E),\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n       ),\r\n       child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n+        icon: const Icon(Icons.mic, color: Colors.white, size: 20),\r\n+        onPressed: onRecord,\r\n       ),\r\n     );\r\n   }\r\n+}\r\n \r\n-  Widget _buildRecordingCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n-      child: Row(\r\n-        children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 40,\r\n-            height: 40,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n-            ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  // ... other properties\r\n+  const RecordVideoButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n \r\n-          // waveform simulation\r\n-          Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0\r\n-                          ? 'Recording Audio...'\r\n-                          : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade300,\r\n-                        fontSize: 13,\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n-              ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma shows a simple icon button\r\n     return Container(\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n+        color: const Color(0xFF1E1E1E),\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n+        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n       ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform bar (static visual) + duration\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text(\r\n-                  'Audio Recorded • $duration',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.grey.shade300,\r\n-                    fontSize: 13,\r\n-                  ),\r\n-                ),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(painter: _RecordedWavePainter()),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n-\r\n-          // delete icon\r\n-          IconButton(\r\n-            onPressed: _deleteAudio,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n+      child: IconButton(\r\n+        icon: const Icon(Icons.videocam_outlined, color: Colors.white, size: 20),\r\n+        onPressed: onRecord,\r\n       ),\r\n     );\r\n   }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null\r\n-                  ? DecorationImage(\r\n-                      image: FileImage(File('/')),\r\n-                      fit: BoxFit.cover,\r\n-                    )\r\n-                  : null,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          Expanded(\r\n-            child: Text(\r\n-              'Video Recorded • 00:59',\r\n-              style: GoogleFonts.inter(color: Colors.grey.shade300),\r\n-            ),\r\n-          ),\r\n-\r\n-          IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n }\r\n+// --- END OF PLACEHOLDERS ---\r\n \r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n \r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(\r\n-        colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)],\r\n-      ).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n-    }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..color = Colors.grey.shade500\r\n-      ..strokeWidth = 3\r\n-      ..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(\r\n-        Offset(x, size.height / 2 - h / 2),\r\n-        Offset(x, size.height / 2 + h / 2),\r\n-        paint,\r\n-      );\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n-}\r\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'dart:math';\r\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n@@ -735,1237 +64,371 @@\n       _OnboardingQuestionScreenState();\r\n }\r\n \r\n class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n   final FocusNode _focusNode = FocusNode();\r\n \r\n-  // Simulated audio recording state\r\n-  bool _isRecording = false;\r\n-  int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n-\r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n-  late AnimationController _waveAnimController;\r\n-\r\n   @override\r\n   void initState() {\r\n     super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n-      vsync: this,\r\n-    )..repeat();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n   }\r\n \r\n   @override\r\n   void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n-    _textController.dispose();\r\n     _focusNode.dispose();\r\n     super.dispose();\r\n   }\r\n \r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n-      setState(() {\r\n-        _recordSeconds++;\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n-\r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n-  }\r\n-\r\n-  void _deleteVideo() {\r\n-    setState(() {\r\n-      _videoPath = null;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n-  }\r\n-\r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n-  }\r\n-\r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n+    final state = ref.watch(onboardingProvider);\r\n     final notifier = ref.read(onboardingProvider.notifier);\r\n \r\n-    // Keep local controller text and provider synced\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n \r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n \r\n     return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            // ===== Header with wave progress =====\r\n-            WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            // ===== Content area (scrollable) =====\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    // small index text\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                        height: 1.05,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    // Subtitle\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 20),\r\n-\r\n-                    // ===== Large input box (blue outline when focused) =====\r\n-                    Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n-                    if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n-                children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n-                    onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n-                      } else {\r\n-                        // toggle record\r\n-                        if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n-                        } else {\r\n-                          _stopSimulatedRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n-                    onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n-                    },\r\n-                  ),\r\n-\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Animated Next button (expands when assets present)\r\n-                  Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                        ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          )\r\n-                        ],\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n-                      ),\r\n-                      child: TextButton(\r\n-                        onPressed: (notifier == null) ? null : () {\r\n-                          // Validate & proceed — here we just print state\r\n-                          \r\n-                        },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-            ),\r\n-          ],\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n         ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n       ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n-    return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildRecordingCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n-      child: Row(\r\n-        children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 40,\r\n-            height: 40,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n-            ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform simulation\r\n-          Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                    ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n                   ),\r\n                 ),\r\n               ),\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n               ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform bar (static visual) + duration\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(\r\n-                    painter: _RecordedWavePainter(),\r\n-                  ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n                 ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n \r\n-          // delete icon\r\n-          IconButton(\r\n-            onPressed: _deleteAudio,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          Expanded(\r\n-            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n-          ),\r\n-\r\n-          IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n-\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n-    }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n-}\r\n-import 'package:flutter/material.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/screens/experience_selection_screen.dart';\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-\r\n-class OnboardingScreen extends StatefulWidget {\r\n-  const OnboardingScreen({super.key});\r\n-\r\n-  @override\r\n-  State<OnboardingScreen> createState() => _OnboardingScreenState();\r\n-}\r\n-\r\n-class _OnboardingScreenState extends State<OnboardingScreen>\r\n-    with TickerProviderStateMixin {\r\n-  late AnimationController _fadeController;\r\n-  late Animation<double> _fadeInAnimation;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-\r\n-    // Smooth fade-in effect for content\r\n-    _fadeController = AnimationController(\r\n-      vsync: this,\r\n-      duration: const Duration(seconds: 2),\r\n-    )..forward();\r\n-\r\n-    _fadeInAnimation = CurvedAnimation(\r\n-      parent: _fadeController,\r\n-      curve: Curves.easeInOut,\r\n-    );\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _fadeController.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Stack(\r\n-          children: [\r\n-            // Wave animation background header\r\n-            const Positioned(\r\n-              top: 0,\r\n-              left: 0,\r\n-              right: 0,\r\n-              child: WaveProgressHeader(progress: 0.1),\r\n-            ),\r\n-\r\n-            // Center content with fade-in\r\n-            FadeTransition(\r\n-              opacity: _fadeInAnimation,\r\n-              child: Padding(\r\n-                padding:\r\n-                    const EdgeInsets.symmetric(horizontal: 24, vertical: 40),\r\n-                child: Column(\r\n-                  mainAxisAlignment: MainAxisAlignment.center,\r\n-                  children: [\r\n-                    const Spacer(),\r\n-\r\n-                    // App title\r\n-                    Text(\r\n-                      \"Hotspot Onboarding\",\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontSize: 28,\r\n-                        fontWeight: FontWeight.bold,\r\n-                        letterSpacing: 1,\r\n-                      ),\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // TODO: Implement \"Recording Video\" widget\r\n+                Container()\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n                     ),\r\n-                    const SizedBox(height: 12),\r\n-\r\n-                    // Subtitle tagline\r\n-                    Text(\r\n-                      \"Create & host unique experiences for your community.\",\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade400,\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n                         fontSize: 14,\r\n-                        height: 1.5,\r\n                       ),\r\n-                      textAlign: TextAlign.center,\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n                     ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n \r\n-                    const Spacer(),\r\n+              const SizedBox(height: 16),\r\n \r\n-                    // Button\r\n-                    GestureDetector(\r\n-                      onTap: () {\r\n-                        Navigator.push(\r\n-                          context,\r\n-                          MaterialPageRoute(\r\n-                            builder: (context) =>\r\n-                                const ExperienceSelectionScreen(),\r\n-                          ),\r\n-                        );\r\n-                      },\r\n-                      child: Container(\r\n-                        height: 55,\r\n-                        width: double.infinity,\r\n-                        decoration: BoxDecoration(\r\n-                          borderRadius: BorderRadius.circular(14),\r\n-                          gradient: const LinearGradient(\r\n-                            colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n-                            begin: Alignment.topLeft,\r\n-                            end: Alignment.bottomRight,\r\n-                          ),\r\n-                          boxShadow: [\r\n-                            BoxShadow(\r\n-                              color: Colors.white.withOpacity(0.05),\r\n-                              blurRadius: 8,\r\n-                              offset: const Offset(0, 2),\r\n-                            ),\r\n-                          ],\r\n-                        ),\r\n-                        alignment: Alignment.center,\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text(\r\n-                              \"Let’s Get Started\",\r\n-                              style: GoogleFonts.inter(\r\n-                                color: Colors.white,\r\n-                                fontSize: 16,\r\n-                                fontWeight: FontWeight.w600,\r\n-                              ),\r\n-                            ),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(\r\n-                              Icons.arrow_forward_ios,\r\n-                              size: 16,\r\n-                              color: Colors.white,\r\n-                            ),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 40),\r\n-                  ],\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n                 ),\r\n-              ),\r\n-            ),\r\n-          ],\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-import 'dart:async';\r\n-import 'dart:io';\r\n-import 'dart:math';\r\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-import 'package:hotspot_onboarding/features/experience_selection/presentation/widgets/wave_progress_header.dart';\r\n-import 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n \r\n-/// Onboarding Question Screen (UI-first, pixel-matched to Figma)\r\n-/// - animated wave progress header (progress 0.66)\r\n-/// - big dark multiline input with blue focus border\r\n-/// - simulated audio recording card (waveform + timer + delete)\r\n-/// - simulated video recorded card (thumbnail + time + delete)\r\n-/// - bottom micro / camera / Next bar (Next animates width when rec buttons disappear)\r\n-///\r\n-/// TODO: Replace simulated recording logic with real services:\r\n-///  - For audio: use `record` or your AudioRecorderService\r\n-///  - For waveform: use audio_waveforms package or a custom real-time painter\r\n-///  - For video: use camera package and save XFile path\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n \r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n+              const Spacer(),\r\n \r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> with TickerProviderStateMixin {\r\n-  final TextEditingController _textController = TextEditingController();\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  // Simulated audio recording state\r\n-  bool _isRecording = false;\r\n-  int _recordSeconds = 0;\r\n-  Timer? _recordTimer;\r\n-\r\n-  // Simulated recorded paths (strings) stored in local state & provider\r\n-  String? _audioPath;\r\n-  String? _videoPath;\r\n-\r\n-  // Wave animation controller for the visual waveform when recording\r\n-  late AnimationController _waveAnimController;\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    _waveAnimController = AnimationController(\r\n-      duration: const Duration(milliseconds: 1400),\r\n-      vsync: this,\r\n-    )..repeat();\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _waveAnimController.dispose();\r\n-    _recordTimer?.cancel();\r\n-    _textController.dispose();\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  void _startSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - request mic permission\r\n-    //  - call audioRecorderService.startRecording()\r\n-    setState(() {\r\n-      _isRecording = true;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    _recordTimer = Timer.periodic(const Duration(seconds: 1), (t) {\r\n-      setState(() {\r\n-        _recordSeconds++;\r\n-      });\r\n-    });\r\n-  }\r\n-\r\n-  void _stopSimulatedRecording() {\r\n-    // In real implementation:\r\n-    //  - await audioRecorderService.stopRecording()\r\n-    //  - get recorded file path and set provider\r\n-    _recordTimer?.cancel();\r\n-    setState(() {\r\n-      _isRecording = false;\r\n-      // simulate file path\r\n-      _audioPath = 'simulated_audio_${DateTime.now().millisecondsSinceEpoch}.m4a';\r\n-      // update provider state\r\n-      ref.read(onboardingProvider.notifier).stopAudioRecording(_audioPath!);\r\n-    });\r\n-  }\r\n-\r\n-  void _deleteAudio() {\r\n-    // TODO: delete actual file if real recording is used\r\n-    setState(() {\r\n-      _audioPath = null;\r\n-      _recordSeconds = 0;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteAudio();\r\n-  }\r\n-\r\n-  Future<void> _simulateRecordVideo() async {\r\n-    // In real implementation:\r\n-    //  - open camera preview and record video using camera plugin\r\n-    //  - obtain XFile path and set provider\r\n-    setState(() {\r\n-      _videoPath = 'simulated_video_${DateTime.now().millisecondsSinceEpoch}.mp4';\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).stopVideoRecording(_videoPath!);\r\n-  }\r\n-\r\n-  void _deleteVideo() {\r\n-    setState(() {\r\n-      _videoPath = null;\r\n-    });\r\n-    ref.read(onboardingProvider.notifier).deleteVideo();\r\n-  }\r\n-\r\n-  String _formatDuration(int seconds) {\r\n-    final min = (seconds ~/ 60).toString().padLeft(2, '0');\r\n-    final sec = (seconds % 60).toString().padLeft(2, '0');\r\n-    return '$min:$sec';\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final onboardingState = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // Keep local controller text and provider synced\r\n-    _textController.text = onboardingState.answerText;\r\n-    _textController.selection = TextSelection.collapsed(offset: _textController.text.length);\r\n-\r\n-    // For Next button animation — shrink when no record buttons present (both recorded)\r\n-    final hasAnyRecording = (_audioPath != null) || (_videoPath != null);\r\n-    final nextWidthFactor = hasAnyRecording ? 1.0 : 0.56;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: const Color(0xFF0B0B0B),\r\n-      body: SafeArea(\r\n-        child: Column(\r\n-          children: [\r\n-            // ===== Header with wave progress =====\r\n-            WaveProgressHeader(\r\n-              progress: 0.66, // question 2 of 3: show 66%\r\n-              onBack: () => Navigator.pop(context),\r\n-              onClose: () => Navigator.popUntil(context, (route) => route.isFirst),\r\n-            ),\r\n-\r\n-            // ===== Content area (scrollable) =====\r\n-            Expanded(\r\n-              child: SingleChildScrollView(\r\n-                padding: const EdgeInsets.symmetric(horizontal: 18, vertical: 6),\r\n-                child: Column(\r\n-                  crossAxisAlignment: CrossAxisAlignment.start,\r\n-                  children: [\r\n-                    const SizedBox(height: 8),\r\n-                    // small index text\r\n-                    Text(\r\n-                      '02',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade600,\r\n-                        fontSize: 12,\r\n-                        fontWeight: FontWeight.w500,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 6),\r\n-                    // Title\r\n-                    Text(\r\n-                      'Why do you want to host with us?',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.white,\r\n-                        fontWeight: FontWeight.w700,\r\n-                        fontSize: 22,\r\n-                        height: 1.05,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 8),\r\n-                    // Subtitle\r\n-                    Text(\r\n-                      'Tell us about your intent and what motivates you to create experiences.',\r\n-                      style: GoogleFonts.inter(\r\n-                        color: Colors.grey.shade500,\r\n-                        fontSize: 13,\r\n-                        fontWeight: FontWeight.w400,\r\n-                        height: 1.4,\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 20),\r\n-\r\n-                    // ===== Large input box (blue outline when focused) =====\r\n-                    Focus(\r\n-                      onFocusChange: (focused) {\r\n-                        setState(() {}); // rebuild to show outline\r\n-                      },\r\n-                      child: Container(\r\n-                        decoration: BoxDecoration(\r\n-                          color: const Color(0xFF121212),\r\n-                          borderRadius: BorderRadius.circular(12),\r\n-                          border: Border.all(\r\n-                            color: _focusNode.hasFocus ? const Color(0xFF6F8BFF) : Colors.grey.shade800,\r\n-                            width: _focusNode.hasFocus ? 2 : 1,\r\n-                          ),\r\n-                        ),\r\n-                        child: TextField(\r\n-                          controller: _textController,\r\n-                          focusNode: _focusNode,\r\n-                          maxLines: 6,\r\n-                          maxLength: 600,\r\n-                          style: const TextStyle(color: Colors.white, fontSize: 16),\r\n-                          cursorColor: const Color(0xFF6F8BFF),\r\n-                          decoration: InputDecoration(\r\n-                            hintText: '/ Start typing here',\r\n-                            hintStyle: TextStyle(color: Colors.grey.shade600),\r\n-                            border: InputBorder.none,\r\n-                            contentPadding: const EdgeInsets.all(16),\r\n-                            counterText: '',\r\n-                          ),\r\n-                          onChanged: (v) {\r\n-                            notifier.setAnswer(v);\r\n-                          },\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                    const SizedBox(height: 18),\r\n-\r\n-                    // ===== Recorded assets area (audio card / video card) =====\r\n-                    // Show audio recorded card if audio present OR if currently recording show recording card\r\n-                    if (_isRecording) ...[\r\n-                      // Recording in progress card\r\n-                      _buildRecordingCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ] else if (_audioPath != null) ...[\r\n-                      _buildAudioRecordedCard(_formatDuration(_recordSeconds)),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Video recorded card\r\n-                    if (_videoPath != null) ...[\r\n-                      _buildVideoRecordedCard(),\r\n-                      const SizedBox(height: 12),\r\n-                    ],\r\n-\r\n-                    // Spacer to push content above bottom bar when keyboard open\r\n-                    SizedBox(height: MediaQuery.of(context).viewInsets.bottom + 12),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-\r\n-            // ===== Bottom action bar: mic | camera | next (animated) =====\r\n-            Padding(\r\n-              padding: const EdgeInsets.fromLTRB(18, 8, 18, 18),\r\n-              child: Row(\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n                 children: [\r\n-                  // Mic / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _audioPath != null ? Icons.delete_outline : Icons.mic_none,\r\n-                    onTap: () {\r\n-                      if (_audioPath != null) {\r\n-                        _deleteAudio();\r\n-                      } else {\r\n-                        // toggle record\r\n-                        if (!_isRecording) {\r\n-                          _startSimulatedRecording();\r\n-                        } else {\r\n-                          _stopSimulatedRecording();\r\n-                        }\r\n-                      }\r\n-                    },\r\n+                  // Audio/Video buttons\r\n+                  RecordAudioButton(\r\n+                    onRecord: () => notifier.startAudioRecording(),\r\n+                    hasRecording: state.audioPath != null,\r\n+                    onDelete: () => notifier.deleteAudio(),\r\n                   ),\r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Camera / Delete (if recorded)\r\n-                  _buildBottomIconButton(\r\n-                    icon: _videoPath != null ? Icons.delete_outline : Icons.videocam_outlined,\r\n-                    onTap: () {\r\n-                      if (_videoPath != null) {\r\n-                        _deleteVideo();\r\n-                      } else {\r\n-                        _simulateRecordVideo();\r\n-                      }\r\n-                    },\r\n+                  RecordVideoButton(\r\n+                    onRecord: () => notifier.startVideoRecording(),\r\n+                    hasRecording: state.videoPath != null,\r\n+                    onDelete: () => notifier.deleteVideo(),\r\n                   ),\r\n \r\n-                  const SizedBox(width: 12),\r\n-\r\n-                  // Animated Next button (expands when assets present)\r\n+                  // Next Button\r\n                   Expanded(\r\n-                    child: AnimatedContainer(\r\n-                      duration: const Duration(milliseconds: 350),\r\n-                      curve: Curves.easeInOut,\r\n-                      height: 56,\r\n-                      decoration: BoxDecoration(\r\n-                        borderRadius: BorderRadius.circular(12),\r\n-                        gradient: const LinearGradient(\r\n-                          colors: [Color(0xFF2E2E2E), Color(0xFF1A1A1A)],\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              const Icon(\r\n+                                Icons.arrow_forward, // Placeholder\r\n+                                size: 16,\r\n+                                color: Colors.white,\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n                         ),\r\n-                        boxShadow: [\r\n-                          BoxShadow(\r\n-                            color: Colors.white.withOpacity(0.03),\r\n-                            blurRadius: 8,\r\n-                            offset: const Offset(0, -1),\r\n-                          )\r\n-                        ],\r\n-                        border: Border.all(color: Colors.grey.shade800),\r\n                       ),\r\n-                      child: TextButton(\r\n-                        onPressed: (notifier == null) ? null : () {\r\n-                          // Validate & proceed — here we just print state\r\n-                          print('Answer: ${notifier.createState().answerText}');\r\n-                        },\r\n-                        style: TextButton.styleFrom(\r\n-                          foregroundColor: Colors.white,\r\n-                          padding: EdgeInsets.zero,\r\n-                          shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\r\n-                        ),\r\n-                        child: Row(\r\n-                          mainAxisAlignment: MainAxisAlignment.center,\r\n-                          children: [\r\n-                            Text('Next', style: GoogleFonts.inter(color: Colors.white, fontSize: 16, fontWeight: FontWeight.w600)),\r\n-                            const SizedBox(width: 8),\r\n-                            const Icon(Icons.arrow_forward_ios, size: 14, color: Colors.white),\r\n-                          ],\r\n-                        ),\r\n-                      ),\r\n                     ),\r\n                   ),\r\n                 ],\r\n               ),\r\n-            ),\r\n-          ],\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n         ),\r\n       ),\r\n     );\r\n   }\r\n+}\r\n \r\n-  Widget _buildBottomIconButton({required IconData icon, required VoidCallback onTap}) {\r\n-    return Container(\r\n-      width: 56,\r\n-      height: 56,\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF121212),\r\n-        borderRadius: BorderRadius.circular(10),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      child: IconButton(\r\n-        icon: Icon(icon, color: Colors.white),\r\n-        onPressed: onTap,\r\n-      ),\r\n-    );\r\n-  }\r\n+// --- Local Helper Widgets for this Screen ---\r\n \r\n-  Widget _buildRecordingCard() {\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n     return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n+        color: color,\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n       ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 14, horizontal: 14),\r\n-      child: Row(\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n         children: [\r\n-          // mic circle\r\n-          Container(\r\n-            width: 40,\r\n-            height: 40,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-              border: Border.all(color: const Color(0xFF6F8BFF)),\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n             ),\r\n-            child: const Icon(Icons.mic, color: Color(0xFF6F8BFF)),\r\n           ),\r\n-          const SizedBox(width: 12),\r\n-\r\n-          // waveform simulation\r\n-          Expanded(\r\n-            child: SizedBox(\r\n-              height: 40,\r\n-              child: CustomPaint(\r\n-                painter: _SimulatedWavePainter(animation: _waveAnimController),\r\n-                child: Align(\r\n-                  alignment: Alignment.centerLeft,\r\n-                  child: Padding(\r\n-                    padding: const EdgeInsets.only(left: 8.0),\r\n-                    child: Text(\r\n-                      _recordSeconds == 0 ? 'Recording Audio...' : _formatDuration(_recordSeconds),\r\n-                      style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13),\r\n-                    ),\r\n-                  ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.mic, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real animated waveform\r\n+              Expanded(\r\n+                child: Text(\r\n+                  '....|||||||....||||....', // Placeholder waveform\r\n+                  style: GoogleFonts.inter(color: Colors.white, fontSize: 16),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n                 ),\r\n               ),\r\n-            ),\r\n-          ),\r\n-\r\n-          const SizedBox(width: 8),\r\n-\r\n-          // stop button\r\n-          GestureDetector(\r\n-            onTap: _stopSimulatedRecording,\r\n-            child: Container(\r\n-              width: 46,\r\n-              height: 36,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF222222),\r\n-                borderRadius: BorderRadius.circular(8),\r\n-                border: Border.all(color: Colors.grey.shade800),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n               ),\r\n-              child: const Icon(Icons.stop, color: Colors.white),\r\n-            ),\r\n+            ],\r\n           ),\r\n         ],\r\n       ),\r\n     );\r\n   }\r\n+}\r\n \r\n-  Widget _buildAudioRecordedCard(String duration) {\r\n-    return Container(\r\n-      decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n-      ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n-      child: Row(\r\n-        children: [\r\n-          // play icon\r\n-          Container(\r\n-            width: 44,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: const Color(0xFF2B2B2B),\r\n-              shape: BoxShape.circle,\r\n-            ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n-          const SizedBox(width: 12),\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n \r\n-          // waveform bar (static visual) + duration\r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              children: [\r\n-                Text('Audio Recorded • $duration', style: GoogleFonts.inter(color: Colors.grey.shade300, fontSize: 13)),\r\n-                const SizedBox(height: 8),\r\n-                SizedBox(\r\n-                  height: 34,\r\n-                  child: CustomPaint(\r\n-                    painter: _RecordedWavePainter(),\r\n-                  ),\r\n-                ),\r\n-              ],\r\n-            ),\r\n-          ),\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n \r\n-          // delete icon\r\n-          IconButton(\r\n-            onPressed: _deleteAudio,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-  Widget _buildVideoRecordedCard() {\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n     return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF151515),\r\n+        color: color,\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: Colors.grey.shade800),\r\n       ),\r\n-      padding: const EdgeInsets.symmetric(vertical: 12, horizontal: 12),\r\n       child: Row(\r\n         children: [\r\n-          // fake thumbnail\r\n-          Container(\r\n-            width: 54,\r\n-            height: 44,\r\n-            decoration: BoxDecoration(\r\n-              color: Colors.grey.shade900,\r\n-              borderRadius: BorderRadius.circular(8),\r\n-              image: _videoPath != null ? DecorationImage(image: FileImage(File('/')) , fit: BoxFit.cover) : null,\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n             ),\r\n-            child: const Icon(Icons.play_arrow, color: Colors.white),\r\n-          ),\r\n+          \r\n           const SizedBox(width: 12),\r\n-\r\n+          \r\n           Expanded(\r\n-            child: Text('Video Recorded • 00:59', style: GoogleFonts.inter(color: Colors.grey.shade300)),\r\n+            child: Text(\r\n+              title,\r\n+              style: GoogleFonts.inter(\r\n+                color: Colors.white,\r\n+                fontSize: 14,\r\n+                fontWeight: FontWeight.w500,\r\n+              ),\r\n+            ),\r\n           ),\r\n-\r\n+          \r\n           IconButton(\r\n-            onPressed: _deleteVideo,\r\n-            icon: Icon(Icons.delete_outline, color: Colors.grey.shade400),\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n           ),\r\n         ],\r\n       ),\r\n     );\r\n   }\r\n-}\r\n-\r\n-/// Simple animated wave painter used while recording (simulated)\r\n-class _SimulatedWavePainter extends CustomPainter {\r\n-  final Animation<double> animation;\r\n-  _SimulatedWavePainter({required this.animation}) : super(repaint: animation);\r\n-\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()\r\n-      ..shader = const LinearGradient(colors: [Color(0xFF87EAF9), Color(0xFF2AAEFF)]).createShader(Rect.fromLTWH(0, 0, size.width, size.height))\r\n-      ..strokeWidth = 2.5\r\n-      ..style = PaintingStyle.stroke\r\n-      ..maskFilter = const MaskFilter.blur(BlurStyle.normal, 3);\r\n-\r\n-    final path = Path();\r\n-    final t = animation.value * 2 * 3.14159;\r\n-    final amplitude = size.height * 0.33;\r\n-    final wavelength = size.width / 6;\r\n-\r\n-    for (double x = 0; x <= size.width; x++) {\r\n-      final y = size.height / 2 + sin((x / wavelength) + t) * amplitude;\r\n-      if (x == 0) {\r\n-        path.moveTo(x, y);\r\n-      } else {\r\n-        path.lineTo(x, y);\r\n-      }\r\n-    }\r\n-\r\n-    canvas.drawPath(path, paint);\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _SimulatedWavePainter oldDelegate) => true;\r\n-}\r\n-\r\n-/// Static recorded waveform visual\r\n-class _RecordedWavePainter extends CustomPainter {\r\n-  @override\r\n-  void paint(Canvas canvas, Size size) {\r\n-    final paint = Paint()..color = Colors.grey.shade500..strokeWidth = 3..strokeCap = StrokeCap.round;\r\n-    final segments = 24;\r\n-    final gap = size.width / segments;\r\n-    for (int i = 0; i < segments; i++) {\r\n-      final h = (i % 5 + 1) / 6 * size.height;\r\n-      final x = i * gap + gap * 0.2;\r\n-      canvas.drawLine(Offset(x, size.height / 2 - h / 2), Offset(x, size.height / 2 + h / 2), paint);\r\n-    }\r\n-  }\r\n-\r\n-  @override\r\n-  bool shouldRepaint(covariant _RecordedWavePainter oldDelegate) => false;\r\n-}\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762867911423,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,14 @@\n // The Figma just shows IconButtons, so I've implemented that.\r\n class RecordAudioButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n   // ... other properties\r\n-  const RecordAudioButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    bool? hasRecording,\r\n+    VoidCallback? onDelete,\r\n+  });\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     // Figma shows a simple icon button\r\n@@ -33,9 +38,14 @@\n \r\n class RecordVideoButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n   // ... other properties\r\n-  const RecordVideoButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    bool? hasRecording,\r\n+    VoidCallback? onDelete,\r\n+  });\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     // Figma shows a simple icon button\r\n@@ -46,17 +56,20 @@\n         borderRadius: BorderRadius.circular(12),\r\n         border: Border.all(color: const Color(0xFF2E2E2E)),\r\n       ),\r\n       child: IconButton(\r\n-        icon: const Icon(Icons.videocam_outlined, color: Colors.white, size: 20),\r\n+        icon: const Icon(\r\n+          Icons.videocam_outlined,\r\n+          color: Colors.white,\r\n+          size: 20,\r\n+        ),\r\n         onPressed: onRecord,\r\n       ),\r\n     );\r\n   }\r\n }\r\n // --- END OF PLACEHOLDERS ---\r\n \r\n-\r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n@@ -100,9 +113,10 @@\n     const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n     const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n \r\n     // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+    final bool isButtonEnabled =\r\n+        state.answerText.isNotEmpty ||\r\n         state.audioPath != null ||\r\n         state.videoPath != null;\r\n \r\n     return Scaffold(\r\n@@ -192,12 +206,9 @@\n                     cursorColor: Colors.white,\r\n                     decoration: InputDecoration(\r\n                       counterText: '',\r\n                       hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n+                      hintStyle: TextStyle(color: kHintTextColor, fontSize: 14),\r\n                       border: InputBorder.none,\r\n                       contentPadding: const EdgeInsets.all(14),\r\n                     ),\r\n                     onChanged: (val) => notifier.setAnswer(val),\r\n@@ -215,9 +226,9 @@\n                   thumbnail: null,\r\n                   onDelete: () => notifier.deleteAudio(),\r\n                   color: kRecordingWidgetColor,\r\n                 ),\r\n-              \r\n+\r\n               SizedBox(height: state.audioPath != null ? 12 : 0),\r\n \r\n               // Figma Screen 174644 (Video)\r\n               if (state.videoPath != null && !state.isRecordingVideo)\r\n@@ -391,13 +402,9 @@\n           if (thumbnail != null)\r\n             // Video thumbnail\r\n             ClipRRect(\r\n               borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n+              child: SizedBox(width: 40, height: 40, child: thumbnail),\r\n             )\r\n           else\r\n             // Audio icon\r\n             Container(\r\n@@ -408,11 +415,11 @@\n                 borderRadius: BorderRadius.circular(20),\r\n               ),\r\n               child: Icon(icon, color: Colors.white, size: 24),\r\n             ),\r\n-          \r\n+\r\n           const SizedBox(width: 12),\r\n-          \r\n+\r\n           Expanded(\r\n             child: Text(\r\n               title,\r\n               style: GoogleFonts.inter(\r\n@@ -421,14 +428,18 @@\n                 fontWeight: FontWeight.w500,\r\n               ),\r\n             ),\r\n           ),\r\n-          \r\n+\r\n           IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            icon: const Icon(\r\n+              Icons.delete_outline,\r\n+              color: Colors.grey,\r\n+              size: 22,\r\n+            ),\r\n             onPressed: onDelete,\r\n\\ No newline at end of file\n           ),\r\n         ],\r\n       ),\r\n     );\r\n   }\r\n-}\n+}\r\n"
                },
                {
                    "date": 1762868016280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,14 +11,9 @@\n // The Figma just shows IconButtons, so I've implemented that.\r\n class RecordAudioButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n   // ... other properties\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    bool? hasRecording,\r\n-    VoidCallback? onDelete,\r\n-  });\r\n+  const RecordAudioButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     // Figma shows a simple icon button\r\n@@ -38,14 +33,9 @@\n \r\n class RecordVideoButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n   // ... other properties\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    bool? hasRecording,\r\n-    VoidCallback? onDelete,\r\n-  });\r\n+  const RecordVideoButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n     // Figma shows a simple icon button\r\n@@ -56,20 +46,17 @@\n         borderRadius: BorderRadius.circular(12),\r\n         border: Border.all(color: const Color(0xFF2E2E2E)),\r\n       ),\r\n       child: IconButton(\r\n-        icon: const Icon(\r\n-          Icons.videocam_outlined,\r\n-          color: Colors.white,\r\n-          size: 20,\r\n-        ),\r\n+        icon: const Icon(Icons.videocam_outlined, color: Colors.white, size: 20),\r\n         onPressed: onRecord,\r\n       ),\r\n     );\r\n   }\r\n }\r\n // --- END OF PLACEHOLDERS ---\r\n \r\n+\r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n@@ -113,10 +100,9 @@\n     const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n     const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n \r\n     // Button state logic based on Figma\r\n-    final bool isButtonEnabled =\r\n-        state.answerText.isNotEmpty ||\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n         state.audioPath != null ||\r\n         state.videoPath != null;\r\n \r\n     return Scaffold(\r\n@@ -183,10 +169,10 @@\n               if (state.isRecordingAudio)\r\n                 // Figma Screen 174622\r\n                 _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n               else if (state.isRecordingVideo)\r\n-                // TODO: Implement \"Recording Video\" widget\r\n-                Container()\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n               else\r\n                 // Default: Text Field\r\n                 Container(\r\n                   decoration: BoxDecoration(\r\n@@ -206,9 +192,12 @@\n                     cursorColor: Colors.white,\r\n                     decoration: InputDecoration(\r\n                       counterText: '',\r\n                       hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(color: kHintTextColor, fontSize: 14),\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n                       border: InputBorder.none,\r\n                       contentPadding: const EdgeInsets.all(14),\r\n                     ),\r\n                     onChanged: (val) => notifier.setAnswer(val),\r\n@@ -226,9 +215,9 @@\n                   thumbnail: null,\r\n                   onDelete: () => notifier.deleteAudio(),\r\n                   color: kRecordingWidgetColor,\r\n                 ),\r\n-\r\n+              \r\n               SizedBox(height: state.audioPath != null ? 12 : 0),\r\n \r\n               // Figma Screen 174644 (Video)\r\n               if (state.videoPath != null && !state.isRecordingVideo)\r\n@@ -372,8 +361,64 @@\n     );\r\n   }\r\n }\r\n \r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n // Figma Screen 174644\r\n class _RecordedItemWidget extends StatelessWidget {\r\n   final String title;\r\n   final IconData icon;\r\n@@ -402,9 +447,13 @@\n           if (thumbnail != null)\r\n             // Video thumbnail\r\n             ClipRRect(\r\n               borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(width: 40, height: 40, child: thumbnail),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n             )\r\n           else\r\n             // Audio icon\r\n             Container(\r\n@@ -415,11 +464,11 @@\n                 borderRadius: BorderRadius.circular(20),\r\n               ),\r\n               child: Icon(icon, color: Colors.white, size: 24),\r\n             ),\r\n-\r\n+          \r\n           const SizedBox(width: 12),\r\n-\r\n+          \r\n           Expanded(\r\n             child: Text(\r\n               title,\r\n               style: GoogleFonts.inter(\r\n@@ -428,15 +477,11 @@\n                 fontWeight: FontWeight.w500,\r\n               ),\r\n             ),\r\n           ),\r\n-\r\n+          \r\n           IconButton(\r\n-            icon: const Icon(\r\n-              Icons.delete_outline,\r\n-              color: Colors.grey,\r\n-              size: 22,\r\n-            ),\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n             onPressed: onDelete,\r\n           ),\r\n         ],\r\n       ),\r\n"
                },
                {
                    "date": 1762868186871,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -237,18 +237,18 @@\n               // --------- Bottom Bar ----------\r\n               Row(\r\n                 children: [\r\n                   // Audio/Video buttons\r\n-                  RecordAudioButton(\r\n-                    onRecord: () => notifier.startAudioRecording(),\r\n-                    hasRecording: state.audioPath != null,\r\n-                    onDelete: () => notifier.deleteAudio(),\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n                   ),\r\n                   RecordVideoButton(\r\n                     onRecord: () => notifier.startVideoRecording(),\r\n-                    hasRecording: state.videoPath != null,\r\n-                    onDelete: () => notifier.deleteVideo(),\r\n-                  ),\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n \r\n                   // Next Button\r\n                   Expanded(\r\n                     child: AnimatedOpacity(\r\n@@ -283,12 +283,16 @@\n                                   fontSize: 16,\r\n                                 ),\r\n                               ),\r\n                               const SizedBox(width: 8),\r\n-                              const Icon(\r\n-                                Icons.arrow_forward, // Placeholder\r\n-                                size: 16,\r\n-                                color: Colors.white,\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n                               ),\r\n                             ],\r\n                           ),\r\n                         ),\r\n@@ -333,17 +337,30 @@\n           ),\r\n           const SizedBox(height: 20),\r\n           Row(\r\n             children: [\r\n-              const Icon(Icons.mic, color: Color(0xFF448AFF), size: 24),\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n               const SizedBox(width: 12),\r\n-              // TODO: Add real animated waveform\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n               Expanded(\r\n-                child: Text(\r\n-                  '....|||||||....||||....', // Placeholder waveform\r\n-                  style: GoogleFonts.inter(color: Colors.white, fontSize: 16),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n                 ),\r\n               ),\r\n               const SizedBox(width: 12),\r\n               Text(\r\n@@ -476,8 +493,47 @@\n                 fontSize: 14,\r\n                 fontWeight: FontWeight.w500,\r\n               ),\r\n             ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n           ),\r\n           \r\n           IconButton(\r\n             icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n"
                },
                {
                    "date": 1762868200820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -494,9 +494,9 @@\n                 fontWeight: FontWeight.w500,\r\n               ),\r\n             ),\r\n           \r\n-          const SizedBox(width: 12),\r\n+          SizedBox(width: 12),\r\n           \r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n"
                },
                {
                    "date": 1762868258714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -485,20 +485,8 @@\n           \r\n           const SizedBox(width: 12),\r\n           \r\n           Expanded(\r\n-            child: Text(\r\n-              title,\r\n-              style: GoogleFonts.inter(\r\n-                color: Colors.white,\r\n-                fontSize: 14,\r\n-                fontWeight: FontWeight.w500,\r\n-              ),\r\n-            ),\r\n-          \r\n-          SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               mainAxisAlignment: MainAxisAlignment.center,\r\n               children: [\r\n"
                },
                {
                    "date": 1762881365640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,56 +5,166 @@\n // Assuming these are in the same folder, correct imports as needed\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n // --- PLACEHOLDER WIDGETS ---\r\n-// These are placeholders for your custom recording buttons.\r\n-// The Figma just shows IconButtons, so I've implemented that.\r\n-class RecordAudioButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  // ... other properties\r\n-  const RecordAudioButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n \r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    // Figma shows a simple icon button\r\n-    return Container(\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF1E1E1E),\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n       ),\r\n-      child: IconButton(\r\n-        icon: const Icon(Icons.mic, color: Colors.white, size: 20),\r\n-        onPressed: onRecord,\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n       ),\r\n     );\r\n   }\r\n }\r\n \r\n+// FIX: Updated video button to match new audio button logic\r\n class RecordVideoButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n-  // ... other properties\r\n-  const RecordVideoButton({super.key, required this.onRecord, bool? hasRecording, VoidCallback? onDelete});\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n \r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    // Figma shows a simple icon button\r\n-    return Container(\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n       margin: const EdgeInsets.symmetric(horizontal: 12),\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF1E1E1E),\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n       ),\r\n-      child: IconButton(\r\n-        icon: const Icon(Icons.videocam_outlined, color: Colors.white, size: 20),\r\n-        onPressed: onRecord,\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n       ),\r\n     );\r\n   }\r\n }\r\n // --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n \r\n \r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n@@ -238,16 +348,27 @@\n               Row(\r\n                 children: [\r\n                   // Audio/Video buttons\r\n                   // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n                   if (state.videoPath == null) ...[\r\n                     RecordAudioButton(\r\n                       onRecord: () => notifier.startAudioRecording(),\r\n-                  ),\r\n-                  RecordVideoButton(\r\n-                    onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n                       onDelete: () => notifier.deleteVideo(),\r\n                     ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n                   ],\r\n \r\n                   // Next Button\r\n                   Expanded(\r\n@@ -485,8 +606,20 @@\n           \r\n           const SizedBox(width: 12),\r\n           \r\n           Expanded(\r\n+            child: Text(\r\n+              title,\r\n+              style: GoogleFonts.inter(\r\n+                color: Colors.white,\r\n+                fontSize: 14,\r\n+                fontWeight: FontWeight.w500,\r\n+              ),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               mainAxisAlignment: MainAxisAlignment.center,\r\n               children: [\r\n"
                },
                {
                    "date": 1762881380872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,168 +5,71 @@\n // Assuming these are in the same folder, correct imports as needed\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n // --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+// These are placeholders for your custom recording buttons.\r\n+// The Figma just shows IconButtons, so I've implemented that.\r\n+class RecordAudioButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  // ... other properties\r\n   const RecordAudioButton({\r\n     super.key,\r\n     required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n+    bool? hasRecording,\r\n+    VoidCallback? onDelete,\r\n   });\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n+    // Figma shows a simple icon button\r\n+    return Container(\r\n       decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        color: const Color(0xFF1E1E1E),\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n+        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n       ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n+      child: IconButton(\r\n+        icon: const Icon(Icons.mic, color: Colors.white, size: 20),\r\n+        onPressed: onRecord,\r\n       ),\r\n     );\r\n   }\r\n }\r\n \r\n-// FIX: Updated video button to match new audio button logic\r\n class RecordVideoButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n+  // ... other properties\r\n   const RecordVideoButton({\r\n     super.key,\r\n     required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n+    bool? hasRecording,\r\n+    VoidCallback? onDelete,\r\n   });\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n+    // Figma shows a simple icon button\r\n+    return Container(\r\n       margin: const EdgeInsets.symmetric(horizontal: 12),\r\n       decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        color: const Color(0xFF1E1E1E),\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n+        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n       ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n+      child: IconButton(\r\n+        icon: const Icon(\r\n+          Icons.videocam_outlined,\r\n+          color: Colors.white,\r\n+          size: 20,\r\n         ),\r\n+        onPressed: onRecord,\r\n       ),\r\n     );\r\n   }\r\n }\r\n // --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n \r\n-\r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n@@ -210,9 +113,10 @@\n     const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n     const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n \r\n     // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+    final bool isButtonEnabled =\r\n+        state.answerText.isNotEmpty ||\r\n         state.audioPath != null ||\r\n         state.videoPath != null;\r\n \r\n     return Scaffold(\r\n@@ -302,12 +206,9 @@\n                     cursorColor: Colors.white,\r\n                     decoration: InputDecoration(\r\n                       counterText: '',\r\n                       hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n+                      hintStyle: TextStyle(color: kHintTextColor, fontSize: 14),\r\n                       border: InputBorder.none,\r\n                       contentPadding: const EdgeInsets.all(14),\r\n                     ),\r\n                     onChanged: (val) => notifier.setAnswer(val),\r\n@@ -325,9 +226,9 @@\n                   thumbnail: null,\r\n                   onDelete: () => notifier.deleteAudio(),\r\n                   color: kRecordingWidgetColor,\r\n                 ),\r\n-              \r\n+\r\n               SizedBox(height: state.audioPath != null ? 12 : 0),\r\n \r\n               // Figma Screen 174644 (Video)\r\n               if (state.videoPath != null && !state.isRecordingVideo)\r\n@@ -348,27 +249,16 @@\n               Row(\r\n                 children: [\r\n                   // Audio/Video buttons\r\n                   // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n                   if (state.videoPath == null) ...[\r\n                     RecordAudioButton(\r\n                       onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n                     ),\r\n                     RecordVideoButton(\r\n                       onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n                       onDelete: () => notifier.deleteVideo(),\r\n                     ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n                   ],\r\n \r\n                   // Next Button\r\n                   Expanded(\r\n@@ -533,9 +423,11 @@\n               Expanded(\r\n                 child: Text(\r\n                   'Live preview recording...', // Placeholder\r\n                   style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                    color: Colors.white.withOpacity(0.5),\r\n+                    fontSize: 14,\r\n+                  ),\r\n                   maxLines: 1,\r\n                   overflow: TextOverflow.clip,\r\n                 ),\r\n               ),\r\n@@ -585,13 +477,9 @@\n           if (thumbnail != null)\r\n             // Video thumbnail\r\n             ClipRRect(\r\n               borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n+              child: SizedBox(width: 40, height: 40, child: thumbnail),\r\n             )\r\n           else\r\n             // Audio icon\r\n             Container(\r\n@@ -602,24 +490,12 @@\n                 borderRadius: BorderRadius.circular(20),\r\n               ),\r\n               child: Icon(icon, color: Colors.white, size: 24),\r\n             ),\r\n-          \r\n+\r\n           const SizedBox(width: 12),\r\n-          \r\n+\r\n           Expanded(\r\n-            child: Text(\r\n-              title,\r\n-              style: GoogleFonts.inter(\r\n-                color: Colors.white,\r\n-                fontSize: 14,\r\n-                fontWeight: FontWeight.w500,\r\n-              ),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               mainAxisAlignment: MainAxisAlignment.center,\r\n               children: [\r\n@@ -650,18 +526,22 @@\n                         ),\r\n                       ),\r\n                     ),\r\n                   ),\r\n-                ]\r\n+                ],\r\n               ],\r\n             ),\r\n           ),\r\n-          \r\n+\r\n           IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            icon: const Icon(\r\n+              Icons.delete_outline,\r\n+              color: Colors.grey,\r\n+              size: 22,\r\n+            ),\r\n\\ No newline at end of file\n             onPressed: onDelete,\r\n           ),\r\n         ],\r\n       ),\r\n     );\r\n   }\r\n-}\n+}\r\n"
                },
                {
                    "date": 1762881395971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,71 +5,168 @@\n // Assuming these are in the same folder, correct imports as needed\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n // --- PLACEHOLDER WIDGETS ---\r\n-// These are placeholders for your custom recording buttons.\r\n-// The Figma just shows IconButtons, so I've implemented that.\r\n-class RecordAudioButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  // ... other properties\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n   const RecordAudioButton({\r\n     super.key,\r\n     required this.onRecord,\r\n-    bool? hasRecording,\r\n-    VoidCallback? onDelete,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n   });\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    // Figma shows a simple icon button\r\n-    return Container(\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF1E1E1E),\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n       ),\r\n-      child: IconButton(\r\n-        icon: const Icon(Icons.mic, color: Colors.white, size: 20),\r\n-        onPressed: onRecord,\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n       ),\r\n     );\r\n   }\r\n }\r\n \r\n+// FIX: Updated video button to match new audio button logic\r\n class RecordVideoButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n-  // ... other properties\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n   const RecordVideoButton({\r\n     super.key,\r\n     required this.onRecord,\r\n-    bool? hasRecording,\r\n-    VoidCallback? onDelete,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n   });\r\n \r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    // Figma shows a simple icon button\r\n-    return Container(\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n       margin: const EdgeInsets.symmetric(horizontal: 12),\r\n       decoration: BoxDecoration(\r\n-        color: const Color(0xFF1E1E1E),\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n         borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(color: const Color(0xFF2E2E2E)),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n       ),\r\n-      child: IconButton(\r\n-        icon: const Icon(\r\n-          Icons.videocam_outlined,\r\n-          color: Colors.white,\r\n-          size: 20,\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n         ),\r\n-        onPressed: onRecord,\r\n       ),\r\n     );\r\n   }\r\n }\r\n // --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n \r\n+\r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n@@ -113,10 +210,9 @@\n     const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n     const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n \r\n     // Button state logic based on Figma\r\n-    final bool isButtonEnabled =\r\n-        state.answerText.isNotEmpty ||\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n         state.audioPath != null ||\r\n         state.videoPath != null;\r\n \r\n     return Scaffold(\r\n@@ -206,9 +302,12 @@\n                     cursorColor: Colors.white,\r\n                     decoration: InputDecoration(\r\n                       counterText: '',\r\n                       hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(color: kHintTextColor, fontSize: 14),\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n                       border: InputBorder.none,\r\n                       contentPadding: const EdgeInsets.all(14),\r\n                     ),\r\n                     onChanged: (val) => notifier.setAnswer(val),\r\n@@ -226,9 +325,9 @@\n                   thumbnail: null,\r\n                   onDelete: () => notifier.deleteAudio(),\r\n                   color: kRecordingWidgetColor,\r\n                 ),\r\n-\r\n+              \r\n               SizedBox(height: state.audioPath != null ? 12 : 0),\r\n \r\n               // Figma Screen 174644 (Video)\r\n               if (state.videoPath != null && !state.isRecordingVideo)\r\n@@ -249,16 +348,27 @@\n               Row(\r\n                 children: [\r\n                   // Audio/Video buttons\r\n                   // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n                   if (state.videoPath == null) ...[\r\n                     RecordAudioButton(\r\n                       onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n                     ),\r\n                     RecordVideoButton(\r\n                       onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n                       onDelete: () => notifier.deleteVideo(),\r\n                     ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n                   ],\r\n \r\n                   // Next Button\r\n                   Expanded(\r\n@@ -423,11 +533,9 @@\n               Expanded(\r\n                 child: Text(\r\n                   'Live preview recording...', // Placeholder\r\n                   style: GoogleFonts.inter(\r\n-                    color: Colors.white.withOpacity(0.5),\r\n-                    fontSize: 14,\r\n-                  ),\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n                   maxLines: 1,\r\n                   overflow: TextOverflow.clip,\r\n                 ),\r\n               ),\r\n@@ -477,9 +585,13 @@\n           if (thumbnail != null)\r\n             // Video thumbnail\r\n             ClipRRect(\r\n               borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(width: 40, height: 40, child: thumbnail),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n             )\r\n           else\r\n             // Audio icon\r\n             Container(\r\n@@ -490,12 +602,24 @@\n                 borderRadius: BorderRadius.circular(20),\r\n               ),\r\n               child: Icon(icon, color: Colors.white, size: 24),\r\n             ),\r\n-\r\n+          \r\n           const SizedBox(width: 12),\r\n-\r\n+          \r\n           Expanded(\r\n+            child: Text(\r\n+              title,\r\n+              style: GoogleFonts.inter(\r\n+                color: Colors.white,\r\n+                fontSize: 14,\r\n+                fontWeight: FontWeight.w500,\r\n+              ),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               mainAxisAlignment: MainAxisAlignment.center,\r\n               children: [\r\n@@ -526,19 +650,15 @@\n                         ),\r\n                       ),\r\n                     ),\r\n                   ),\r\n-                ],\r\n+                ]\r\n               ],\r\n             ),\r\n           ),\r\n-\r\n+          \r\n           IconButton(\r\n-            icon: const Icon(\r\n-              Icons.delete_outline,\r\n-              color: Colors.grey,\r\n-              size: 22,\r\n-            ),\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n             onPressed: onDelete,\r\n           ),\r\n         ],\r\n       ),\r\n"
                },
                {
                    "date": 1762881403894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -615,9 +615,9 @@\n                 fontWeight: FontWeight.w500,\r\n               ),\r\n             ),\r\n           \r\n-          const SizedBox(width: 12),\r\n+       \r\n           \r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n"
                },
                {
                    "date": 1762881423601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,655 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881504557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,655 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881510450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,655 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+\r\n+\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881517009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,10 +82,9 @@\n         ),\r\n       ),\r\n     );\r\n   }\r\n-\r\n-\r\n+}\r\n // FIX: Updated video button to match new audio button logic\r\n class RecordVideoButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n   final VoidCallback? onDelete;\r\n"
                },
                {
                    "date": 1762881523401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,654 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording{\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881537258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,654 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        // onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881546029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,655 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            \r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881615192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,660 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+class RecordAudioButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            \r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881633495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,660 @@\n+import 'package:flutter/material.dart';\r\n+import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n+import 'package:google_fonts/google_fonts.dart';\r\n+\r\n+// Assuming these are in the same folder, correct imports as needed\r\n+import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+\r\n+// Import the new button files\r\n+import 'package:hottspot_onboarding/features/onboardingselection/presention/record_audio_button.dart';\r\n+import 'record_video_button.dart';\r\n+\r\n+// --- PLACEHOLDER WIDGETS ---\r\n+\r\n+// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n+// REMOVED: RecordAudioButton class definition moved to its own file.\r\n+class RecordAudioButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordAudioButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required as per your code\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            \r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Mic\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.mic,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// FIX: Updated video button to match new audio button logic\r\n+class RecordVideoButton extends StatelessWidget {\r\n+  final VoidCallback onRecord;\r\n+  final VoidCallback? onDelete;\r\n+  final bool hasRecording;\r\n+\r\n+  const RecordVideoButton({\r\n+    super.key,\r\n+    required this.onRecord,\r\n+    this.onDelete,\r\n+    required this.hasRecording, // Made required\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    // Figma-aligned colors\r\n+    const Color kButtonColor = Color(0xFF1E1E1E);\r\n+    const Color kBorderColor = Color(0xFF2E2E2E);\r\n+    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n+\r\n+    return AnimatedContainer(\r\n+      duration: const Duration(milliseconds: 300),\r\n+      curve: Curves.easeInOut,\r\n+      // User's logic: change width, but sized for Figma\r\n+      width: hasRecording ? 120 : 55,\r\n+      height: 55, // Figma height\r\n+      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n+      decoration: BoxDecoration(\r\n+        // User's logic: change color\r\n+        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        border: Border.all(\r\n+          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n+        ),\r\n+      ),\r\n+      child: InkWell(\r\n+        // User's logic: change action\r\n+        onTap: hasRecording ? onDelete : onRecord,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+        child: Center(\r\n+          child: AnimatedSwitcher(\r\n+            duration: const Duration(milliseconds: 200),\r\n+            transitionBuilder: (child, animation) {\r\n+              return FadeTransition(opacity: animation, child: child);\r\n+            },\r\n+            child: hasRecording\r\n+                // User's logic: show \"Delete\" icon and text\r\n+                ? Row(\r\n+                    key: const ValueKey('delete'),\r\n+                    mainAxisAlignment: MainAxisAlignment.center,\r\n+                    children: [\r\n+                      Icon(Icons.delete_outline,\r\n+                          color: kDeleteColor, size: 20),\r\n+                      const SizedBox(width: 8),\r\n+                      Text(\r\n+                        'Delete',\r\n+                        style: GoogleFonts.inter(\r\n+                          color: kDeleteColor,\r\n+                          fontWeight: FontWeight.w500,\r\n+                          fontSize: 14,\r\n+                        ),\r\n+                      ),\r\n+                    ],\r\n+                  )\r\n+                // User's logic: show \"Video\" icon only\r\n+                : const Icon(\r\n+                    key: ValueKey('record'),\r\n+                    Icons.videocam_outlined,\r\n+                    color: Colors.white,\r\n+                    size: 20,\r\n+                  ),\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+// --- END OF PLACEHOLDERS ---\r\n+// REMOVED: RecordVideoButton class definition moved to its own file.\r\n+\r\n+\r\n+class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n+  const OnboardingQuestionScreen({super.key});\r\n+\r\n+  @override\r\n+  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n+      _OnboardingQuestionScreenState();\r\n+}\r\n+\r\n+class _OnboardingQuestionScreenState\r\n+    extends ConsumerState<OnboardingQuestionScreen> {\r\n+  final FocusNode _focusNode = FocusNode();\r\n+\r\n+  @override\r\n+  void initState() {\r\n+    super.initState();\r\n+    // Listener to rebuild widget on focus change for border color\r\n+    _focusNode.addListener(() {\r\n+      setState(() {});\r\n+    });\r\n+  }\r\n+\r\n+  @override\r\n+  void dispose() {\r\n+    _focusNode.dispose();\r\n+    super.dispose();\r\n+  }\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    final state = ref.watch(onboardingProvider);\r\n+    final notifier = ref.read(onboardingProvider.notifier);\r\n+\r\n+    // UI-Kit Colors from Figma\r\n+    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n+    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n+    const Color kFieldBorderColor = Color(0xFF222222);\r\n+    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n+    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n+    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n+    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n+    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n+    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n+    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n+\r\n+    // Button state logic based on Figma\r\n+    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+        state.audioPath != null ||\r\n+        state.videoPath != null;\r\n+\r\n+    return Scaffold(\r\n+      backgroundColor: kBackgroundColor,\r\n+      appBar: AppBar(\r\n+        backgroundColor: Colors.transparent,\r\n+        elevation: 0,\r\n+        leading: IconButton(\r\n+          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n+          onPressed: () => Navigator.of(context).pop(),\r\n+        ),\r\n+        // Progress is now 2/3\r\n+        title: const WaveProgressHeader(progress: 0.66),\r\n+        centerTitle: true,\r\n+        actions: [\r\n+          IconButton(\r\n+            icon: const Icon(Icons.close, color: Colors.white),\r\n+            onPressed: () {\r\n+              // TODO: Add close logic (e.g., pop to root)\r\n+            },\r\n+          ),\r\n+        ],\r\n+      ),\r\n+      body: SafeArea(\r\n+        child: Padding(\r\n+          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n+          child: Column(\r\n+            crossAxisAlignment: CrossAxisAlignment.start,\r\n+            children: [\r\n+              // --------- Header Text ----------\r\n+              Padding(\r\n+                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n+                child: Text(\r\n+                  '02',\r\n+                  style: GoogleFonts.inter(\r\n+                    color: kHeaderTextColor,\r\n+                    fontSize: 12,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              Text(\r\n+                'Why do you want to host with us?',\r\n+                style: GoogleFonts.inter(\r\n+                  color: Colors.white,\r\n+                  fontWeight: FontWeight.w600,\r\n+                  fontSize: 22,\r\n+                  height: 1.4,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 8),\r\n+              Text(\r\n+                'Tell us about your intent and what motivates you to create experiences.',\r\n+                style: GoogleFonts.inter(\r\n+                  color: kSubHeaderTextColor,\r\n+                  fontWeight: FontWeight.w400,\r\n+                  fontSize: 14,\r\n+                  height: 1.5,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(height: 24),\r\n+\r\n+              // --------- Dynamic Content Area ----------\r\n+              if (state.isRecordingAudio)\r\n+                // Figma Screen 174622\r\n+                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n+              else if (state.isRecordingVideo)\r\n+                // FIX: Implemented the \"Recording Video\" widget\r\n+                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n+              else\r\n+                // Default: Text Field\r\n+                Container(\r\n+                  decoration: BoxDecoration(\r\n+                    color: kFieldBackgroundColor,\r\n+                    borderRadius: BorderRadius.circular(12),\r\n+                    border: Border.all(\r\n+                      color: _focusNode.hasFocus\r\n+                          ? kFieldBorderActiveColor\r\n+                          : kFieldBorderColor,\r\n+                    ),\r\n+                  ),\r\n+                  child: TextField(\r\n+                    focusNode: _focusNode,\r\n+                    maxLength: 600,\r\n+                    maxLines: 6,\r\n+                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n+                    cursorColor: Colors.white,\r\n+                    decoration: InputDecoration(\r\n+                      counterText: '',\r\n+                      hintText: '/ Start typing here',\r\n+                      hintStyle: TextStyle(\r\n+                        color: kHintTextColor,\r\n+                        fontSize: 14,\r\n+                      ),\r\n+                      border: InputBorder.none,\r\n+                      contentPadding: const EdgeInsets.all(14),\r\n+                    ),\r\n+                    onChanged: (val) => notifier.setAnswer(val),\r\n+                  ),\r\n+                ),\r\n+\r\n+              const SizedBox(height: 16),\r\n+\r\n+              // --------- Recorded Widgets Area ----------\r\n+              // Figma Screen 174644 (Audio)\r\n+              if (state.audioPath != null && !state.isRecordingAudio)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: null,\r\n+                  onDelete: () => notifier.deleteAudio(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+              \r\n+              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n+\r\n+              // Figma Screen 174644 (Video)\r\n+              if (state.videoPath != null && !state.isRecordingVideo)\r\n+                _RecordedItemWidget(\r\n+                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n+                  icon: Icons.play_arrow,\r\n+                  thumbnail: Image.network(\r\n+                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n+                    fit: BoxFit.cover,\r\n+                  ),\r\n+                  onDelete: () => notifier.deleteVideo(),\r\n+                  color: kRecordingWidgetColor,\r\n+                ),\r\n+\r\n+              const Spacer(),\r\n+\r\n+              // --------- Bottom Bar ----------\r\n+              Row(\r\n+                children: [\r\n+                  // Audio/Video buttons\r\n+                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n+                  // This logic remains, but now works with the new animated buttons\r\n+                  if (state.videoPath == null) ...[\r\n+                    RecordAudioButton(\r\n+                      onRecord: () => notifier.startAudioRecording(),\r\n+                      hasRecording: state.audioPath != null,\r\n+                      onDelete: () => notifier.deleteAudio(),\r\n+                    ),\r\n+                    RecordVideoButton(\r\n+                      onRecord: () => notifier.startVideoRecording(),\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ] else ...[\r\n+                    // Show only the video delete button\r\n+                    RecordVideoButton(\r\n+                      onRecord: () {}, // Won't be called\r\n+                      hasRecording: state.videoPath != null,\r\n+                      onDelete: () => notifier.deleteVideo(),\r\n+                    ),\r\n+                  ],\r\n+\r\n+                  // Next Button\r\n+                  Expanded(\r\n+                    child: AnimatedOpacity(\r\n+                      duration: const Duration(milliseconds: 300),\r\n+                      opacity: isButtonEnabled ? 1 : 0.6,\r\n+                      child: GestureDetector(\r\n+                        onTap: isButtonEnabled\r\n+                            ? () {\r\n+                                print(\r\n+                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n+                                );\r\n+                                // TODO: Navigate to next screen\r\n+                              }\r\n+                            : null,\r\n+                        child: Container(\r\n+                          height: 55,\r\n+                          decoration: BoxDecoration(\r\n+                            borderRadius: BorderRadius.circular(14),\r\n+                            color: isButtonEnabled\r\n+                                ? kButtonEnabledColor\r\n+                                : kButtonDisabledColor,\r\n+                          ),\r\n+                          alignment: Alignment.center,\r\n+                          child: Row(\r\n+                            mainAxisAlignment: MainAxisAlignment.center,\r\n+                            children: [\r\n+                              Text(\r\n+                                'Next',\r\n+                                style: GoogleFonts.inter(\r\n+                                  color: Colors.white,\r\n+                                  fontWeight: FontWeight.w500,\r\n+                                  fontSize: 16,\r\n+                                ),\r\n+                              ),\r\n+                              const SizedBox(width: 8),\r\n+                              // FIX 2: Replaced icon with a closer match to Figma\r\n+                              const RotatedBox(\r\n+                                quarterTurns: 1,\r\n+                                child: Icon(\r\n+                                  Icons.label_important_outline_rounded,\r\n+                                  size: 18,\r\n+                                  color: Colors.white,\r\n+                                ),\r\n+                              ),\r\n+                            ],\r\n+                          ),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ],\r\n+              ),\r\n+              const SizedBox(height: 16), // Bottom padding\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// --- Local Helper Widgets for this Screen ---\r\n+\r\n+// Figma Screen 174622\r\n+class _RecordingAudioWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingAudioWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Audio...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n+              const CircleAvatar(\r\n+                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n+                radius: 12,\r\n+                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              // FIX 3.1: Replaced placeholder text with visual waveform\r\n+              Expanded(\r\n+                child: Row(\r\n+                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n+                  children: List.generate(\r\n+                    15, // Generate 15 bars\r\n+                    (index) => Container(\r\n+                      width: 2.5,\r\n+                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n+                      decoration: BoxDecoration(\r\n+                        color: Colors.white.withOpacity(0.7),\r\n+                        borderRadius: BorderRadius.circular(2),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:47', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// FIX: Added new widget for Video Recording\r\n+// Based on the _RecordingAudioWidget\r\n+class _RecordingVideoWidget extends StatelessWidget {\r\n+  final Color color;\r\n+  const _RecordingVideoWidget({required this.color});\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.all(16),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Column(\r\n+        crossAxisAlignment: CrossAxisAlignment.start,\r\n+        children: [\r\n+          Text(\r\n+            'Recording Video...',\r\n+            style: GoogleFonts.inter(\r\n+              color: Colors.white.withOpacity(0.7),\r\n+              fontSize: 14,\r\n+            ),\r\n+          ),\r\n+          const SizedBox(height: 20),\r\n+          Row(\r\n+            children: [\r\n+              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n+              const SizedBox(width: 12),\r\n+              // TODO: Add real video preview or animation\r\n+              Expanded(\r\n+                child: Text(\r\n+                  'Live preview recording...', // Placeholder\r\n+                  style: GoogleFonts.inter(\r\n+                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.clip,\r\n+                ),\r\n+              ),\r\n+              const SizedBox(width: 12),\r\n+              Text(\r\n+                '00:23', // TODO: Add real timer\r\n+                style: GoogleFonts.inter(\r\n+                  color: const Color(0xFF448AFF),\r\n+                  fontSize: 14,\r\n+                  fontWeight: FontWeight.w500,\r\n+                ),\r\n+              ),\r\n+            ],\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\r\n+\r\n+// Figma Screen 174644\r\n+class _RecordedItemWidget extends StatelessWidget {\r\n+  final String title;\r\n+  final IconData icon;\r\n+  final Widget? thumbnail; // For video\r\n+  final VoidCallback onDelete;\r\n+  final Color color;\r\n+\r\n+  const _RecordedItemWidget({\r\n+    required this.title,\r\n+    required this.icon,\r\n+    this.thumbnail,\r\n+    required this.onDelete,\r\n+    required this.color,\r\n+  });\r\n+\r\n+  @override\r\n+  Widget build(BuildContext context) {\r\n+    return Container(\r\n+      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n+      decoration: BoxDecoration(\r\n+        color: color,\r\n+        borderRadius: BorderRadius.circular(12),\r\n+      ),\r\n+      child: Row(\r\n+        children: [\r\n+          if (thumbnail != null)\r\n+            // Video thumbnail\r\n+            ClipRRect(\r\n+              borderRadius: BorderRadius.circular(6),\r\n+              child: SizedBox(\r\n+                width: 40,\r\n+                height: 40,\r\n+                child: thumbnail,\r\n+              ),\r\n+            )\r\n+          else\r\n+            // Audio icon\r\n+            Container(\r\n+              width: 40,\r\n+              height: 40,\r\n+              decoration: BoxDecoration(\r\n+                color: const Color(0xFF448AFF),\r\n+                borderRadius: BorderRadius.circular(20),\r\n+              ),\r\n+              child: Icon(icon, color: Colors.white, size: 24),\r\n+            ),\r\n+          \r\n+          const SizedBox(width: 12),\r\n+          \r\n+          Expanded(\r\n+            child: Column(\r\n+              crossAxisAlignment: CrossAxisAlignment.start,\r\n+              mainAxisAlignment: MainAxisAlignment.center,\r\n+              children: [\r\n+                Text(\r\n+                  title,\r\n+                  style: GoogleFonts.inter(\r\n+                    color: Colors.white,\r\n+                    fontSize: 14,\r\n+                    fontWeight: FontWeight.w500,\r\n+                  ),\r\n+                  maxLines: 1,\r\n+                  overflow: TextOverflow.ellipsis,\r\n+                ),\r\n+                // FIX 4: Added static waveform for audio item\r\n+                if (thumbnail == null) ...[\r\n+                  const SizedBox(height: 8),\r\n+                  // Placeholder static waveform\r\n+                  Row(\r\n+                    children: List.generate(\r\n+                      30, // More bars for static view\r\n+                      (index) => Container(\r\n+                        width: 2,\r\n+                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n+                        margin: const EdgeInsets.only(right: 2),\r\n+                        decoration: BoxDecoration(\r\n+                          color: Colors.white.withOpacity(0.5),\r\n+                          borderRadius: BorderRadius.circular(1),\r\n+                        ),\r\n+                      ),\r\n+                    ),\r\n+                  ),\r\n+                ]\r\n+              ],\r\n+            ),\r\n+          ),\r\n+          \r\n+          IconButton(\r\n+            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            onPressed: onDelete,\r\n+          ),\r\n+        ],\r\n+      ),\r\n+    );\r\n+  }\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762881641446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,11 +5,11 @@\n // Assuming these are in the same folder, correct imports as needed\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n \r\n-// Import the new button files\r\n-import 'package:hottspot_onboarding/features/onboardingselection/presention/record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n+// // Import the new button files\r\n+// import 'record_audio_button.dart';\r\n+// import 'record_video_button.dart';\r\n \r\n // --- PLACEHOLDER WIDGETS ---\r\n \r\n // FIX: Replaced placeholder with user's logic, styled to match Figma\r\n@@ -656,5259 +656,5 @@\n         ],\r\n       ),\r\n     );\r\n   }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-class RecordAudioButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            \r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            \r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        // onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording{\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-\r\n-\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\n-import 'package:flutter/material.dart';\r\n-import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n-import 'package:google_fonts/google_fonts.dart';\r\n-\r\n-// Assuming these are in the same folder, correct imports as needed\r\n-import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n-import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n-\r\n-// Import the new button files\r\n-import 'record_audio_button.dart';\r\n-import 'record_video_button.dart';\r\n-\r\n-// --- PLACEHOLDER WIDGETS ---\r\n-\r\n-// FIX: Replaced placeholder with user's logic, styled to match Figma\r\n-// REMOVED: RecordAudioButton class definition moved to its own file.\r\n-  const RecordAudioButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required as per your code\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Mic\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.mic,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Updated video button to match new audio button logic\r\n-class RecordVideoButton extends StatelessWidget {\r\n-  final VoidCallback onRecord;\r\n-  final VoidCallback? onDelete;\r\n-  final bool hasRecording;\r\n-\r\n-  const RecordVideoButton({\r\n-    super.key,\r\n-    required this.onRecord,\r\n-    this.onDelete,\r\n-    required this.hasRecording, // Made required\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    // Figma-aligned colors\r\n-    const Color kButtonColor = Color(0xFF1E1E1E);\r\n-    const Color kBorderColor = Color(0xFF2E2E2E);\r\n-    const Color kDeleteColor = Color(0xFFE53935); // Red for delete\r\n-\r\n-    return AnimatedContainer(\r\n-      duration: const Duration(milliseconds: 300),\r\n-      curve: Curves.easeInOut,\r\n-      // User's logic: change width, but sized for Figma\r\n-      width: hasRecording ? 120 : 55,\r\n-      height: 55, // Figma height\r\n-      margin: const EdgeInsets.symmetric(horizontal: 12),\r\n-      decoration: BoxDecoration(\r\n-        // User's logic: change color\r\n-        color: hasRecording ? kDeleteColor.withOpacity(0.15) : kButtonColor,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        border: Border.all(\r\n-          color: hasRecording ? kDeleteColor.withOpacity(0.8) : kBorderColor,\r\n-        ),\r\n-      ),\r\n-      child: InkWell(\r\n-        // User's logic: change action\r\n-        onTap: hasRecording ? onDelete : onRecord,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-        child: Center(\r\n-          child: AnimatedSwitcher(\r\n-            duration: const Duration(milliseconds: 200),\r\n-            transitionBuilder: (child, animation) {\r\n-              return FadeTransition(opacity: animation, child: child);\r\n-            },\r\n-            child: hasRecording\r\n-                // User's logic: show \"Delete\" icon and text\r\n-                ? Row(\r\n-                    key: const ValueKey('delete'),\r\n-                    mainAxisAlignment: MainAxisAlignment.center,\r\n-                    children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n-                      const SizedBox(width: 8),\r\n-                      Text(\r\n-                        'Delete',\r\n-                        style: GoogleFonts.inter(\r\n-                          color: kDeleteColor,\r\n-                          fontWeight: FontWeight.w500,\r\n-                          fontSize: 14,\r\n-                        ),\r\n-                      ),\r\n-                    ],\r\n-                  )\r\n-                // User's logic: show \"Video\" icon only\r\n-                : const Icon(\r\n-                    key: ValueKey('record'),\r\n-                    Icons.videocam_outlined,\r\n-                    color: Colors.white,\r\n-                    size: 20,\r\n-                  ),\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-// --- END OF PLACEHOLDERS ---\r\n-// REMOVED: RecordVideoButton class definition moved to its own file.\r\n-\r\n-\r\n-class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n-  const OnboardingQuestionScreen({super.key});\r\n-\r\n-  @override\r\n-  ConsumerState<OnboardingQuestionScreen> createState() =>\r\n-      _OnboardingQuestionScreenState();\r\n-}\r\n-\r\n-class _OnboardingQuestionScreenState\r\n-    extends ConsumerState<OnboardingQuestionScreen> {\r\n-  final FocusNode _focusNode = FocusNode();\r\n-\r\n-  @override\r\n-  void initState() {\r\n-    super.initState();\r\n-    // Listener to rebuild widget on focus change for border color\r\n-    _focusNode.addListener(() {\r\n-      setState(() {});\r\n-    });\r\n-  }\r\n-\r\n-  @override\r\n-  void dispose() {\r\n-    _focusNode.dispose();\r\n-    super.dispose();\r\n-  }\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    final state = ref.watch(onboardingProvider);\r\n-    final notifier = ref.read(onboardingProvider.notifier);\r\n-\r\n-    // UI-Kit Colors from Figma\r\n-    const Color kBackgroundColor = Color(0xFF0B0B0B);\r\n-    const Color kFieldBackgroundColor = Color(0xFF121212);\r\n-    const Color kFieldBorderColor = Color(0xFF222222);\r\n-    const Color kFieldBorderActiveColor = Color(0xFF448AFF); // Blue focus\r\n-    const Color kHintTextColor = Color(0xFF6B6B6B);\r\n-    const Color kButtonDisabledColor = Color(0xFF1A1A1A);\r\n-    const Color kButtonEnabledColor = Color(0xFF2E2E2E);\r\n-    const Color kHeaderTextColor = Color(0xFF8E8E8E);\r\n-    const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n-    const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n-\r\n-    // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n-        state.audioPath != null ||\r\n-        state.videoPath != null;\r\n-\r\n-    return Scaffold(\r\n-      backgroundColor: kBackgroundColor,\r\n-      appBar: AppBar(\r\n-        backgroundColor: Colors.transparent,\r\n-        elevation: 0,\r\n-        leading: IconButton(\r\n-          icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n-          onPressed: () => Navigator.of(context).pop(),\r\n-        ),\r\n-        // Progress is now 2/3\r\n-        title: const WaveProgressHeader(progress: 0.66),\r\n-        centerTitle: true,\r\n-        actions: [\r\n-          IconButton(\r\n-            icon: const Icon(Icons.close, color: Colors.white),\r\n-            onPressed: () {\r\n-              // TODO: Add close logic (e.g., pop to root)\r\n-            },\r\n-          ),\r\n-        ],\r\n-      ),\r\n-      body: SafeArea(\r\n-        child: Padding(\r\n-          padding: const EdgeInsets.symmetric(horizontal: 16),\r\n-          child: Column(\r\n-            crossAxisAlignment: CrossAxisAlignment.start,\r\n-            children: [\r\n-              // --------- Header Text ----------\r\n-              Padding(\r\n-                padding: const EdgeInsets.only(top: 8.0, bottom: 4.0),\r\n-                child: Text(\r\n-                  '02',\r\n-                  style: GoogleFonts.inter(\r\n-                    color: kHeaderTextColor,\r\n-                    fontSize: 12,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              Text(\r\n-                'Why do you want to host with us?',\r\n-                style: GoogleFonts.inter(\r\n-                  color: Colors.white,\r\n-                  fontWeight: FontWeight.w600,\r\n-                  fontSize: 22,\r\n-                  height: 1.4,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 8),\r\n-              Text(\r\n-                'Tell us about your intent and what motivates you to create experiences.',\r\n-                style: GoogleFonts.inter(\r\n-                  color: kSubHeaderTextColor,\r\n-                  fontWeight: FontWeight.w400,\r\n-                  fontSize: 14,\r\n-                  height: 1.5,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(height: 24),\r\n-\r\n-              // --------- Dynamic Content Area ----------\r\n-              if (state.isRecordingAudio)\r\n-                // Figma Screen 174622\r\n-                _RecordingAudioWidget(color: kRecordingWidgetColor)\r\n-              else if (state.isRecordingVideo)\r\n-                // FIX: Implemented the \"Recording Video\" widget\r\n-                _RecordingVideoWidget(color: kRecordingWidgetColor)\r\n-              else\r\n-                // Default: Text Field\r\n-                Container(\r\n-                  decoration: BoxDecoration(\r\n-                    color: kFieldBackgroundColor,\r\n-                    borderRadius: BorderRadius.circular(12),\r\n-                    border: Border.all(\r\n-                      color: _focusNode.hasFocus\r\n-                          ? kFieldBorderActiveColor\r\n-                          : kFieldBorderColor,\r\n-                    ),\r\n-                  ),\r\n-                  child: TextField(\r\n-                    focusNode: _focusNode,\r\n-                    maxLength: 600,\r\n-                    maxLines: 6,\r\n-                    style: const TextStyle(color: Colors.white, fontSize: 14),\r\n-                    cursorColor: Colors.white,\r\n-                    decoration: InputDecoration(\r\n-                      counterText: '',\r\n-                      hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n-                      border: InputBorder.none,\r\n-                      contentPadding: const EdgeInsets.all(14),\r\n-                    ),\r\n-                    onChanged: (val) => notifier.setAnswer(val),\r\n-                  ),\r\n-                ),\r\n-\r\n-              const SizedBox(height: 16),\r\n-\r\n-              // --------- Recorded Widgets Area ----------\r\n-              // Figma Screen 174644 (Audio)\r\n-              if (state.audioPath != null && !state.isRecordingAudio)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Audio Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: null,\r\n-                  onDelete: () => notifier.deleteAudio(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-              \r\n-              SizedBox(height: state.audioPath != null ? 12 : 0),\r\n-\r\n-              // Figma Screen 174644 (Video)\r\n-              if (state.videoPath != null && !state.isRecordingVideo)\r\n-                _RecordedItemWidget(\r\n-                  title: 'Video Recorded - 00:59', // TODO: Get real duration\r\n-                  icon: Icons.play_arrow,\r\n-                  thumbnail: Image.network(\r\n-                    \"https://placehold.co/40x40/555/FFF?text=Vid\", // Placeholder\r\n-                    fit: BoxFit.cover,\r\n-                  ),\r\n-                  onDelete: () => notifier.deleteVideo(),\r\n-                  color: kRecordingWidgetColor,\r\n-                ),\r\n-\r\n-              const Spacer(),\r\n-\r\n-              // --------- Bottom Bar ----------\r\n-              Row(\r\n-                children: [\r\n-                  // Audio/Video buttons\r\n-                  // FIX 1: Hide mic/video buttons if a video is recorded\r\n-                  // This logic remains, but now works with the new animated buttons\r\n-                  if (state.videoPath == null) ...[\r\n-                    RecordAudioButton(\r\n-                      onRecord: () => notifier.startAudioRecording(),\r\n-                      hasRecording: state.audioPath != null,\r\n-                      onDelete: () => notifier.deleteAudio(),\r\n-                    ),\r\n-                    RecordVideoButton(\r\n-                      onRecord: () => notifier.startVideoRecording(),\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ] else ...[\r\n-                    // Show only the video delete button\r\n-                    RecordVideoButton(\r\n-                      onRecord: () {}, // Won't be called\r\n-                      hasRecording: state.videoPath != null,\r\n-                      onDelete: () => notifier.deleteVideo(),\r\n-                    ),\r\n-                  ],\r\n-\r\n-                  // Next Button\r\n-                  Expanded(\r\n-                    child: AnimatedOpacity(\r\n-                      duration: const Duration(milliseconds: 300),\r\n-                      opacity: isButtonEnabled ? 1 : 0.6,\r\n-                      child: GestureDetector(\r\n-                        onTap: isButtonEnabled\r\n-                            ? () {\r\n-                                print(\r\n-                                  'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}',\r\n-                                );\r\n-                                // TODO: Navigate to next screen\r\n-                              }\r\n-                            : null,\r\n-                        child: Container(\r\n-                          height: 55,\r\n-                          decoration: BoxDecoration(\r\n-                            borderRadius: BorderRadius.circular(14),\r\n-                            color: isButtonEnabled\r\n-                                ? kButtonEnabledColor\r\n-                                : kButtonDisabledColor,\r\n-                          ),\r\n-                          alignment: Alignment.center,\r\n-                          child: Row(\r\n-                            mainAxisAlignment: MainAxisAlignment.center,\r\n-                            children: [\r\n-                              Text(\r\n-                                'Next',\r\n-                                style: GoogleFonts.inter(\r\n-                                  color: Colors.white,\r\n-                                  fontWeight: FontWeight.w500,\r\n-                                  fontSize: 16,\r\n-                                ),\r\n-                              ),\r\n-                              const SizedBox(width: 8),\r\n-                              // FIX 2: Replaced icon with a closer match to Figma\r\n-                              const RotatedBox(\r\n-                                quarterTurns: 1,\r\n-                                child: Icon(\r\n-                                  Icons.label_important_outline_rounded,\r\n-                                  size: 18,\r\n-                                  color: Colors.white,\r\n-                                ),\r\n-                              ),\r\n-                            ],\r\n-                          ),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ],\r\n-              ),\r\n-              const SizedBox(height: 16), // Bottom padding\r\n-            ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// --- Local Helper Widgets for this Screen ---\r\n-\r\n-// Figma Screen 174622\r\n-class _RecordingAudioWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingAudioWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Audio...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              // FIX 3: Replaced Icon with CircleAvatar to match Figma\r\n-              const CircleAvatar(\r\n-                backgroundColor: Color(0xFF4A4AFF), // Purple-blue\r\n-                radius: 12,\r\n-                child: Icon(Icons.mic, color: Colors.white, size: 14),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              // FIX 3.1: Replaced placeholder text with visual waveform\r\n-              Expanded(\r\n-                child: Row(\r\n-                  mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n-                  children: List.generate(\r\n-                    15, // Generate 15 bars\r\n-                    (index) => Container(\r\n-                      width: 2.5,\r\n-                      height: (index % 4 + 1) * 6.0, // Varying heights\r\n-                      decoration: BoxDecoration(\r\n-                        color: Colors.white.withOpacity(0.7),\r\n-                        borderRadius: BorderRadius.circular(2),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:47', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// FIX: Added new widget for Video Recording\r\n-// Based on the _RecordingAudioWidget\r\n-class _RecordingVideoWidget extends StatelessWidget {\r\n-  final Color color;\r\n-  const _RecordingVideoWidget({required this.color});\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.all(16),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Column(\r\n-        crossAxisAlignment: CrossAxisAlignment.start,\r\n-        children: [\r\n-          Text(\r\n-            'Recording Video...',\r\n-            style: GoogleFonts.inter(\r\n-              color: Colors.white.withOpacity(0.7),\r\n-              fontSize: 14,\r\n-            ),\r\n-          ),\r\n-          const SizedBox(height: 20),\r\n-          Row(\r\n-            children: [\r\n-              const Icon(Icons.videocam, color: Color(0xFF448AFF), size: 24),\r\n-              const SizedBox(width: 12),\r\n-              // TODO: Add real video preview or animation\r\n-              Expanded(\r\n-                child: Text(\r\n-                  'Live preview recording...', // Placeholder\r\n-                  style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.clip,\r\n-                ),\r\n-              ),\r\n-              const SizedBox(width: 12),\r\n-              Text(\r\n-                '00:23', // TODO: Add real timer\r\n-                style: GoogleFonts.inter(\r\n-                  color: const Color(0xFF448AFF),\r\n-                  fontSize: 14,\r\n-                  fontWeight: FontWeight.w500,\r\n-                ),\r\n-              ),\r\n-            ],\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n-}\r\n-\r\n-// Figma Screen 174644\r\n-class _RecordedItemWidget extends StatelessWidget {\r\n-  final String title;\r\n-  final IconData icon;\r\n-  final Widget? thumbnail; // For video\r\n-  final VoidCallback onDelete;\r\n-  final Color color;\r\n-\r\n-  const _RecordedItemWidget({\r\n-    required this.title,\r\n-    required this.icon,\r\n-    this.thumbnail,\r\n-    required this.onDelete,\r\n-    required this.color,\r\n-  });\r\n-\r\n-  @override\r\n-  Widget build(BuildContext context) {\r\n-    return Container(\r\n-      padding: const EdgeInsets.symmetric(horizontal: 16, vertical: 12),\r\n-      decoration: BoxDecoration(\r\n-        color: color,\r\n-        borderRadius: BorderRadius.circular(12),\r\n-      ),\r\n-      child: Row(\r\n-        children: [\r\n-          if (thumbnail != null)\r\n-            // Video thumbnail\r\n-            ClipRRect(\r\n-              borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n-            )\r\n-          else\r\n-            // Audio icon\r\n-            Container(\r\n-              width: 40,\r\n-              height: 40,\r\n-              decoration: BoxDecoration(\r\n-                color: const Color(0xFF448AFF),\r\n-                borderRadius: BorderRadius.circular(20),\r\n-              ),\r\n-              child: Icon(icon, color: Colors.white, size: 24),\r\n-            ),\r\n-          \r\n-          const SizedBox(width: 12),\r\n-          \r\n-          Expanded(\r\n-            child: Text(\r\n-              title,\r\n-              style: GoogleFonts.inter(\r\n-                color: Colors.white,\r\n-                fontSize: 14,\r\n-                fontWeight: FontWeight.w500,\r\n-              ),\r\n-            ),\r\n-          \r\n-       \r\n-          \r\n-          Expanded(\r\n-            child: Column(\r\n-              crossAxisAlignment: CrossAxisAlignment.start,\r\n-              mainAxisAlignment: MainAxisAlignment.center,\r\n-              children: [\r\n-                Text(\r\n-                  title,\r\n-                  style: GoogleFonts.inter(\r\n-                    color: Colors.white,\r\n-                    fontSize: 14,\r\n-                    fontWeight: FontWeight.w500,\r\n-                  ),\r\n-                  maxLines: 1,\r\n-                  overflow: TextOverflow.ellipsis,\r\n-                ),\r\n-                // FIX 4: Added static waveform for audio item\r\n-                if (thumbnail == null) ...[\r\n-                  const SizedBox(height: 8),\r\n-                  // Placeholder static waveform\r\n-                  Row(\r\n-                    children: List.generate(\r\n-                      30, // More bars for static view\r\n-                      (index) => Container(\r\n-                        width: 2,\r\n-                        height: (index % 3 + 1) * 4.0, // Varying heights\r\n-                        margin: const EdgeInsets.only(right: 2),\r\n-                        decoration: BoxDecoration(\r\n-                          color: Colors.white.withOpacity(0.5),\r\n-                          borderRadius: BorderRadius.circular(1),\r\n-                        ),\r\n-                      ),\r\n-                    ),\r\n-                  ),\r\n-                ]\r\n-              ],\r\n-            ),\r\n-          ),\r\n-          \r\n-          IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n-            onPressed: onDelete,\r\n-          ),\r\n-        ],\r\n-      ),\r\n-    );\r\n-  }\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1762882197215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,16 @@\n import 'package:flutter/material.dart';\r\n import 'package:flutter_riverpod/flutter_riverpod.dart';\r\n import 'package:google_fonts/google_fonts.dart';\r\n+import 'dart:async';\r\n+import 'dart:io';\r\n+import 'package:just_audio/just_audio.dart';\r\n \r\n // Assuming these are in the same folder, correct imports as needed\r\n import 'package:hottspot_onboarding/features/expericeneselction/presentaion/widgets/animate_wave.dart';\r\n import 'package:hottspot_onboarding/features/onboardingselection/provider/on_boarding_provider.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/data/audio_record_service.dart';\r\n+import 'package:hottspot_onboarding/features/onboardingselection/presention/video_recorder_page.dart';\r\n \r\n // // Import the new button files\r\n // import 'record_audio_button.dart';\r\n // import 'record_video_button.dart';\r\n@@ -56,17 +61,16 @@\n             duration: const Duration(milliseconds: 200),\r\n             transitionBuilder: (child, animation) {\r\n               return FadeTransition(opacity: animation, child: child);\r\n             },\r\n-            \r\n+\r\n             child: hasRecording\r\n                 // User's logic: show \"Delete\" icon and text\r\n                 ? Row(\r\n                     key: const ValueKey('delete'),\r\n                     mainAxisAlignment: MainAxisAlignment.center,\r\n                     children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n+                      Icon(Icons.delete_outline, color: kDeleteColor, size: 20),\r\n                       const SizedBox(width: 8),\r\n                       Text(\r\n                         'Delete',\r\n                         style: GoogleFonts.inter(\r\n@@ -89,8 +93,9 @@\n       ),\r\n     );\r\n   }\r\n }\r\n+\r\n // FIX: Updated video button to match new audio button logic\r\n class RecordVideoButton extends StatelessWidget {\r\n   final VoidCallback onRecord;\r\n   final VoidCallback? onDelete;\r\n@@ -140,10 +145,9 @@\n                 ? Row(\r\n                     key: const ValueKey('delete'),\r\n                     mainAxisAlignment: MainAxisAlignment.center,\r\n                     children: [\r\n-                      Icon(Icons.delete_outline,\r\n-                          color: kDeleteColor, size: 20),\r\n+                      Icon(Icons.delete_outline, color: kDeleteColor, size: 20),\r\n                       const SizedBox(width: 8),\r\n                       Text(\r\n                         'Delete',\r\n                         style: GoogleFonts.inter(\r\n@@ -169,9 +173,8 @@\n }\r\n // --- END OF PLACEHOLDERS ---\r\n // REMOVED: RecordVideoButton class definition moved to its own file.\r\n \r\n-\r\n class OnboardingQuestionScreen extends ConsumerStatefulWidget {\r\n   const OnboardingQuestionScreen({super.key});\r\n \r\n   @override\r\n@@ -181,8 +184,12 @@\n \r\n class _OnboardingQuestionScreenState\r\n     extends ConsumerState<OnboardingQuestionScreen> {\r\n   final FocusNode _focusNode = FocusNode();\r\n+  final AudioRecorderService _recorderService = AudioRecorderService();\r\n+  final AudioPlayer _audioPlayer = AudioPlayer();\r\n+  Timer? _recTimer;\r\n+  int _recordSeconds = 0;\r\n \r\n   @override\r\n   void initState() {\r\n     super.initState();\r\n@@ -193,8 +200,10 @@\n   }\r\n \r\n   @override\r\n   void dispose() {\r\n+    _recTimer?.cancel();\r\n+    _audioPlayer.dispose();\r\n     _focusNode.dispose();\r\n     super.dispose();\r\n   }\r\n \r\n@@ -215,9 +224,10 @@\n     const Color kSubHeaderTextColor = Color(0xFFC2C2C2);\r\n     const Color kRecordingWidgetColor = Color(0xFF1C1C1E);\r\n \r\n     // Button state logic based on Figma\r\n-    final bool isButtonEnabled = state.answerText.isNotEmpty ||\r\n+    final bool isButtonEnabled =\r\n+        state.answerText.isNotEmpty ||\r\n         state.audioPath != null ||\r\n         state.videoPath != null;\r\n \r\n     return Scaffold(\r\n@@ -307,12 +317,9 @@\n                     cursorColor: Colors.white,\r\n                     decoration: InputDecoration(\r\n                       counterText: '',\r\n                       hintText: '/ Start typing here',\r\n-                      hintStyle: TextStyle(\r\n-                        color: kHintTextColor,\r\n-                        fontSize: 14,\r\n-                      ),\r\n+                      hintStyle: TextStyle(color: kHintTextColor, fontSize: 14),\r\n                       border: InputBorder.none,\r\n                       contentPadding: const EdgeInsets.all(14),\r\n                     ),\r\n                     onChanged: (val) => notifier.setAnswer(val),\r\n@@ -330,9 +337,9 @@\n                   thumbnail: null,\r\n                   onDelete: () => notifier.deleteAudio(),\r\n                   color: kRecordingWidgetColor,\r\n                 ),\r\n-              \r\n+\r\n               SizedBox(height: state.audioPath != null ? 12 : 0),\r\n \r\n               // Figma Screen 174644 (Video)\r\n               if (state.videoPath != null && !state.isRecordingVideo)\r\n@@ -538,9 +545,11 @@\n               Expanded(\r\n                 child: Text(\r\n                   'Live preview recording...', // Placeholder\r\n                   style: GoogleFonts.inter(\r\n-                      color: Colors.white.withOpacity(0.5), fontSize: 14),\r\n+                    color: Colors.white.withOpacity(0.5),\r\n+                    fontSize: 14,\r\n+                  ),\r\n                   maxLines: 1,\r\n                   overflow: TextOverflow.clip,\r\n                 ),\r\n               ),\r\n@@ -590,13 +599,9 @@\n           if (thumbnail != null)\r\n             // Video thumbnail\r\n             ClipRRect(\r\n               borderRadius: BorderRadius.circular(6),\r\n-              child: SizedBox(\r\n-                width: 40,\r\n-                height: 40,\r\n-                child: thumbnail,\r\n-              ),\r\n+              child: SizedBox(width: 40, height: 40, child: thumbnail),\r\n             )\r\n           else\r\n             // Audio icon\r\n             Container(\r\n@@ -607,11 +612,11 @@\n                 borderRadius: BorderRadius.circular(20),\r\n               ),\r\n               child: Icon(icon, color: Colors.white, size: 24),\r\n             ),\r\n-          \r\n+\r\n           const SizedBox(width: 12),\r\n-          \r\n+\r\n           Expanded(\r\n             child: Column(\r\n               crossAxisAlignment: CrossAxisAlignment.start,\r\n               mainAxisAlignment: MainAxisAlignment.center,\r\n@@ -643,18 +648,22 @@\n                         ),\r\n                       ),\r\n                     ),\r\n                   ),\r\n-                ]\r\n+                ],\r\n               ],\r\n             ),\r\n           ),\r\n-          \r\n+\r\n           IconButton(\r\n-            icon: const Icon(Icons.delete_outline, color: Colors.grey, size: 22),\r\n+            icon: const Icon(\r\n+              Icons.delete_outline,\r\n+              color: Colors.grey,\r\n+              size: 22,\r\n+            ),\r\n\\ No newline at end of file\n             onPressed: onDelete,\r\n           ),\r\n         ],\r\n       ),\r\n     );\r\n   }\r\n-}\n+}\r\n"
                },
                {
                    "date": 1762883603069,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -239,9 +239,9 @@\n           icon: const Icon(Icons.arrow_back, color: Colors.white),\r\n           onPressed: () => Navigator.of(context).pop(),\r\n         ),\r\n         // Progress is now 2/3\r\n-        title: const Cure,\r\n+        title: const CurvedWaveProgressHeader(progress: progress),\r\n         centerTitle: true,\r\n         actions: [\r\n           IconButton(\r\n             icon: const Icon(Icons.close, color: Colors.white),\r\n"
                },
                {
                    "date": 1762887573512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -503,9 +503,10 @@\n                   child: Column(\r\n                     children: [\r\n                       if (state.audioPath != null && !state.isRecordingAudio)\r\n                         _RecordedItemWidget(\r\n-                          title: 'Audio Recorded - ${_formatDuration(_audioDuration)}',\r\n+                          title:\r\n+                              'Audio Recorded - ${_formatDuration(_audioDuration)}',\r\n                           icon: Icons.play_arrow,\r\n                           onDelete: () async {\r\n                             await _deleteAudio(state.audioPath!);\r\n                             notifier.deleteAudio();\r\n"
                }
            ],
            "date": 1762859952647,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:flutter_riverpod/flutter_riverpod.dart';\r\nimport 'package:google_fonts/google_fonts.dart';\r\nimport 'package:hotspot_onboarding/features/onboarding_question/provider/onboarding_provider.dart';\r\nimport 'package:hotspot_onboarding/features/onboarding_question/presentation/widgets/record_audio_button.dart';\r\nimport 'package:hotspot_onboarding/features/onboarding_question/presentation/widgets/record_video_button.dart';\r\n\r\nclass OnboardingQuestionScreen extends ConsumerWidget {\r\n  const OnboardingQuestionScreen({super.key});\r\n\r\n  @override\r\n  Widget build(BuildContext context, WidgetRef ref) {\r\n    final state = ref.watch(onboardingProvider);\r\n    final notifier = ref.read(onboardingProvider.notifier);\r\n\r\n    return Scaffold(\r\n      appBar: AppBar(\r\n        title: const Text('Onboarding Question'),\r\n        backgroundColor: Colors.white,\r\n        foregroundColor: Colors.black,\r\n        elevation: 0,\r\n      ),\r\n      backgroundColor: Colors.white,\r\n      body: Padding(\r\n        padding: const EdgeInsets.all(20.0),\r\n        child: Column(\r\n          crossAxisAlignment: CrossAxisAlignment.start,\r\n          children: [\r\n            Text(\r\n              \"Why do you want to host with us?\",\r\n              style: GoogleFonts.inter(\r\n                  fontSize: 18, fontWeight: FontWeight.w600),\r\n            ),\r\n            const SizedBox(height: 16),\r\n            TextField(\r\n              maxLength: 600,\r\n              maxLines: 6,\r\n              decoration: InputDecoration(\r\n                hintText: \"Type your answer here...\",\r\n                border: OutlineInputBorder(\r\n                  borderRadius: BorderRadius.circular(12),\r\n                ),\r\n              ),\r\n              onChanged: (val) => notifier.setAnswer(val),\r\n            ),\r\n            const Spacer(),\r\n            Row(\r\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\r\n              children: [\r\n                RecordAudioButton(\r\n                  hasRecording: state.audioPath != null,\r\n                  onRecord: () => notifier.startAudioRecording(),\r\n                  onDelete: () => notifier.deleteAudio(),\r\n                ),\r\n                RecordVideoButton(\r\n                  hasRecording: state.videoPath != null,\r\n                  onRecord: () => notifier.startVideoRecording(),\r\n                  onDelete: () => notifier.deleteVideo(),\r\n                ),\r\n              ],\r\n            ),\r\n            const SizedBox(height: 20),\r\n            AnimatedContainer(\r\n              duration: const Duration(milliseconds: 400),\r\n              curve: Curves.easeInOut,\r\n              width: (state.audioPath != null && state.videoPath != null)\r\n                  ? double.infinity\r\n                  : MediaQuery.of(context).size.width * 0.6,\r\n              child: ElevatedButton(\r\n                style: ElevatedButton.styleFrom(\r\n                  backgroundColor: Colors.black,\r\n                  shape: RoundedRectangleBorder(\r\n                      borderRadius: BorderRadius.circular(12)),\r\n                  minimumSize: const Size(double.infinity, 50),\r\n                ),\r\n                onPressed: () {\r\n                  print(\r\n                      'Answer: ${state.answerText}, Audio: ${state.audioPath}, Video: ${state.videoPath}');\r\n                },\r\n                child: const Text('Next',\r\n                    style: TextStyle(color: Colors.white, fontSize: 16)),\r\n              ),\r\n            ),\r\n          ],\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}